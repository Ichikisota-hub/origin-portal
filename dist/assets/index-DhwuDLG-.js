(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Nh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Yu={exports:{}},L={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qr=Symbol.for("react.element"),Rh=Symbol.for("react.portal"),Ch=Symbol.for("react.fragment"),Oh=Symbol.for("react.strict_mode"),Ph=Symbol.for("react.profiler"),Ah=Symbol.for("react.provider"),Ih=Symbol.for("react.context"),jh=Symbol.for("react.forward_ref"),Lh=Symbol.for("react.suspense"),zh=Symbol.for("react.memo"),$h=Symbol.for("react.lazy"),gl=Symbol.iterator;function Uh(e){return e===null||typeof e!="object"?null:(e=gl&&e[gl]||e["@@iterator"],typeof e=="function"?e:null)}var Xu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Zu=Object.assign,ec={};function Wn(e,t,n){this.props=e,this.context=t,this.refs=ec,this.updater=n||Xu}Wn.prototype.isReactComponent={};Wn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Wn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function tc(){}tc.prototype=Wn.prototype;function yo(e,t,n){this.props=e,this.context=t,this.refs=ec,this.updater=n||Xu}var wo=yo.prototype=new tc;wo.constructor=yo;Zu(wo,Wn.prototype);wo.isPureReactComponent=!0;var vl=Array.isArray,nc=Object.prototype.hasOwnProperty,_o={current:null},rc={key:!0,ref:!0,__self:!0,__source:!0};function sc(e,t,n){var r,s={},i=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)nc.call(t,r)&&!rc.hasOwnProperty(r)&&(s[r]=t[r]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)s[r]===void 0&&(s[r]=o[r]);return{$$typeof:qr,type:e,key:i,ref:a,props:s,_owner:_o.current}}function Dh(e,t){return{$$typeof:qr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Eo(e){return typeof e=="object"&&e!==null&&e.$$typeof===qr}function Bh(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var yl=/\/+/g;function ji(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Bh(""+e.key):t.toString(36)}function Ns(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case qr:case Rh:a=!0}}if(a)return a=e,s=s(a),e=r===""?"."+ji(a,0):r,vl(s)?(n="",e!=null&&(n=e.replace(yl,"$&/")+"/"),Ns(s,t,n,"",function(u){return u})):s!=null&&(Eo(s)&&(s=Dh(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(yl,"$&/")+"/")+e)),t.push(s)),1;if(a=0,r=r===""?".":r+":",vl(e))for(var o=0;o<e.length;o++){i=e[o];var l=r+ji(i,o);a+=Ns(i,t,n,l,s)}else if(l=Uh(e),typeof l=="function")for(e=l.call(e),o=0;!(i=e.next()).done;)i=i.value,l=r+ji(i,o++),a+=Ns(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function ts(e,t,n){if(e==null)return e;var r=[],s=0;return Ns(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Mh(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ye={current:null},Rs={transition:null},Fh={ReactCurrentDispatcher:ye,ReactCurrentBatchConfig:Rs,ReactCurrentOwner:_o};function ic(){throw Error("act(...) is not supported in production builds of React.")}L.Children={map:ts,forEach:function(e,t,n){ts(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ts(e,function(){t++}),t},toArray:function(e){return ts(e,function(t){return t})||[]},only:function(e){if(!Eo(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};L.Component=Wn;L.Fragment=Ch;L.Profiler=Ph;L.PureComponent=yo;L.StrictMode=Oh;L.Suspense=Lh;L.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fh;L.act=ic;L.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Zu({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=_o.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)nc.call(t,l)&&!rc.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:qr,type:e.type,key:s,ref:i,props:r,_owner:a}};L.createContext=function(e){return e={$$typeof:Ih,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Ah,_context:e},e.Consumer=e};L.createElement=sc;L.createFactory=function(e){var t=sc.bind(null,e);return t.type=e,t};L.createRef=function(){return{current:null}};L.forwardRef=function(e){return{$$typeof:jh,render:e}};L.isValidElement=Eo;L.lazy=function(e){return{$$typeof:$h,_payload:{_status:-1,_result:e},_init:Mh}};L.memo=function(e,t){return{$$typeof:zh,type:e,compare:t===void 0?null:t}};L.startTransition=function(e){var t=Rs.transition;Rs.transition={};try{e()}finally{Rs.transition=t}};L.unstable_act=ic;L.useCallback=function(e,t){return ye.current.useCallback(e,t)};L.useContext=function(e){return ye.current.useContext(e)};L.useDebugValue=function(){};L.useDeferredValue=function(e){return ye.current.useDeferredValue(e)};L.useEffect=function(e,t){return ye.current.useEffect(e,t)};L.useId=function(){return ye.current.useId()};L.useImperativeHandle=function(e,t,n){return ye.current.useImperativeHandle(e,t,n)};L.useInsertionEffect=function(e,t){return ye.current.useInsertionEffect(e,t)};L.useLayoutEffect=function(e,t){return ye.current.useLayoutEffect(e,t)};L.useMemo=function(e,t){return ye.current.useMemo(e,t)};L.useReducer=function(e,t,n){return ye.current.useReducer(e,t,n)};L.useRef=function(e){return ye.current.useRef(e)};L.useState=function(e){return ye.current.useState(e)};L.useSyncExternalStore=function(e,t,n){return ye.current.useSyncExternalStore(e,t,n)};L.useTransition=function(){return ye.current.useTransition()};L.version="18.3.1";Yu.exports=L;var A=Yu.exports;const d=Nh(A);var pa={},ac={exports:{}},Pe={},oc={exports:{}},lc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,I){var j=N.length;N.push(I);e:for(;0<j;){var Q=j-1>>>1,re=N[Q];if(0<s(re,I))N[Q]=I,N[j]=re,j=Q;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var I=N[0],j=N.pop();if(j!==I){N[0]=j;e:for(var Q=0,re=N.length,Zr=re>>>1;Q<Zr;){var Lt=2*(Q+1)-1,Ii=N[Lt],zt=Lt+1,es=N[zt];if(0>s(Ii,j))zt<re&&0>s(es,Ii)?(N[Q]=es,N[zt]=j,Q=zt):(N[Q]=Ii,N[Lt]=j,Q=Lt);else if(zt<re&&0>s(es,j))N[Q]=es,N[zt]=j,Q=zt;else break e}}return I}function s(N,I){var j=N.sortIndex-I.sortIndex;return j!==0?j:N.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var l=[],u=[],c=1,g=null,m=3,v=!1,y=!1,w=!1,E=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(N){for(var I=n(u);I!==null;){if(I.callback===null)r(u);else if(I.startTime<=N)r(u),I.sortIndex=I.expirationTime,t(l,I);else break;I=n(u)}}function _(N){if(w=!1,p(N),!y)if(n(l)!==null)y=!0,Pi(S);else{var I=n(u);I!==null&&Ai(_,I.startTime-N)}}function S(N,I){y=!1,w&&(w=!1,h(R),R=-1),v=!0;var j=m;try{for(p(I),g=n(l);g!==null&&(!(g.expirationTime>I)||N&&!De());){var Q=g.callback;if(typeof Q=="function"){g.callback=null,m=g.priorityLevel;var re=Q(g.expirationTime<=I);I=e.unstable_now(),typeof re=="function"?g.callback=re:g===n(l)&&r(l),p(I)}else r(l);g=n(l)}if(g!==null)var Zr=!0;else{var Lt=n(u);Lt!==null&&Ai(_,Lt.startTime-I),Zr=!1}return Zr}finally{g=null,m=j,v=!1}}var x=!1,b=null,R=-1,U=5,z=-1;function De(){return!(e.unstable_now()-z<U)}function Kn(){if(b!==null){var N=e.unstable_now();z=N;var I=!0;try{I=b(!0,N)}finally{I?Gn():(x=!1,b=null)}}else x=!1}var Gn;if(typeof f=="function")Gn=function(){f(Kn)};else if(typeof MessageChannel<"u"){var ml=new MessageChannel,Th=ml.port2;ml.port1.onmessage=Kn,Gn=function(){Th.postMessage(null)}}else Gn=function(){E(Kn,0)};function Pi(N){b=N,x||(x=!0,Gn())}function Ai(N,I){R=E(function(){N(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){y||v||(y=!0,Pi(S))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(N){switch(m){case 1:case 2:case 3:var I=3;break;default:I=m}var j=m;m=I;try{return N()}finally{m=j}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,I){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var j=m;m=N;try{return I()}finally{m=j}},e.unstable_scheduleCallback=function(N,I,j){var Q=e.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?Q+j:Q):j=Q,N){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=j+re,N={id:c++,callback:I,priorityLevel:N,startTime:j,expirationTime:re,sortIndex:-1},j>Q?(N.sortIndex=j,t(u,N),n(l)===null&&N===n(u)&&(w?(h(R),R=-1):w=!0,Ai(_,j-Q))):(N.sortIndex=re,t(l,N),y||v||(y=!0,Pi(S))),N},e.unstable_shouldYield=De,e.unstable_wrapCallback=function(N){var I=m;return function(){var j=m;m=I;try{return N.apply(this,arguments)}finally{m=j}}}})(lc);oc.exports=lc;var Wh=oc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vh=A,Oe=Wh;function k(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var uc=new Set,Er={};function nn(e,t){Ln(e,t),Ln(e+"Capture",t)}function Ln(e,t){for(Er[e]=t,e=0;e<t.length;e++)uc.add(t[e])}var ot=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ma=Object.prototype.hasOwnProperty,qh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wl={},_l={};function Hh(e){return ma.call(_l,e)?!0:ma.call(wl,e)?!1:qh.test(e)?_l[e]=!0:(wl[e]=!0,!1)}function Kh(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Gh(e,t,n,r){if(t===null||typeof t>"u"||Kh(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function we(e,t,n,r,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var ce={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ce[e]=new we(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ce[t]=new we(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ce[e]=new we(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ce[e]=new we(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ce[e]=new we(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ce[e]=new we(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ce[e]=new we(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ce[e]=new we(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ce[e]=new we(e,5,!1,e.toLowerCase(),null,!1,!1)});var ko=/[\-:]([a-z])/g;function So(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ko,So);ce[t]=new we(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ko,So);ce[t]=new we(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ko,So);ce[t]=new we(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ce[e]=new we(e,1,!1,e.toLowerCase(),null,!1,!1)});ce.xlinkHref=new we("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ce[e]=new we(e,1,!1,e.toLowerCase(),null,!0,!0)});function xo(e,t,n,r){var s=ce.hasOwnProperty(t)?ce[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Gh(t,n,s,r)&&(n=null),r||s===null?Hh(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var dt=Vh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ns=Symbol.for("react.element"),mn=Symbol.for("react.portal"),gn=Symbol.for("react.fragment"),bo=Symbol.for("react.strict_mode"),ga=Symbol.for("react.profiler"),cc=Symbol.for("react.provider"),dc=Symbol.for("react.context"),To=Symbol.for("react.forward_ref"),va=Symbol.for("react.suspense"),ya=Symbol.for("react.suspense_list"),No=Symbol.for("react.memo"),pt=Symbol.for("react.lazy"),hc=Symbol.for("react.offscreen"),El=Symbol.iterator;function Jn(e){return e===null||typeof e!="object"?null:(e=El&&e[El]||e["@@iterator"],typeof e=="function"?e:null)}var K=Object.assign,Li;function sr(e){if(Li===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Li=t&&t[1]||""}return`
`+Li+e}var zi=!1;function $i(e,t){if(!e||zi)return"";zi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var l=`
`+s[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=o);break}}}finally{zi=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?sr(e):""}function Jh(e){switch(e.tag){case 5:return sr(e.type);case 16:return sr("Lazy");case 13:return sr("Suspense");case 19:return sr("SuspenseList");case 0:case 2:case 15:return e=$i(e.type,!1),e;case 11:return e=$i(e.type.render,!1),e;case 1:return e=$i(e.type,!0),e;default:return""}}function wa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case gn:return"Fragment";case mn:return"Portal";case ga:return"Profiler";case bo:return"StrictMode";case va:return"Suspense";case ya:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case dc:return(e.displayName||"Context")+".Consumer";case cc:return(e._context.displayName||"Context")+".Provider";case To:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case No:return t=e.displayName||null,t!==null?t:wa(e.type)||"Memo";case pt:t=e._payload,e=e._init;try{return wa(e(t))}catch{}}return null}function Qh(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wa(t);case 8:return t===bo?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ot(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function fc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Yh(e){var t=fc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function rs(e){e._valueTracker||(e._valueTracker=Yh(e))}function pc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=fc(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ds(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function _a(e,t){var n=t.checked;return K({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function kl(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ot(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function mc(e,t){t=t.checked,t!=null&&xo(e,"checked",t,!1)}function Ea(e,t){mc(e,t);var n=Ot(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ka(e,t.type,n):t.hasOwnProperty("defaultValue")&&ka(e,t.type,Ot(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Sl(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ka(e,t,n){(t!=="number"||Ds(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ir=Array.isArray;function Rn(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ot(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Sa(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(k(91));return K({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function xl(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(k(92));if(ir(n)){if(1<n.length)throw Error(k(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ot(n)}}function gc(e,t){var n=Ot(t.value),r=Ot(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function bl(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function vc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xa(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?vc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ss,yc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ss=ss||document.createElement("div"),ss.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ss.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function kr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var cr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xh=["Webkit","ms","Moz","O"];Object.keys(cr).forEach(function(e){Xh.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),cr[t]=cr[e]})});function wc(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||cr.hasOwnProperty(e)&&cr[e]?(""+t).trim():t+"px"}function _c(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=wc(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Zh=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ba(e,t){if(t){if(Zh[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(k(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(k(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(k(61))}if(t.style!=null&&typeof t.style!="object")throw Error(k(62))}}function Ta(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Na=null;function Ro(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ra=null,Cn=null,On=null;function Tl(e){if(e=Gr(e)){if(typeof Ra!="function")throw Error(k(280));var t=e.stateNode;t&&(t=gi(t),Ra(e.stateNode,e.type,t))}}function Ec(e){Cn?On?On.push(e):On=[e]:Cn=e}function kc(){if(Cn){var e=Cn,t=On;if(On=Cn=null,Tl(e),t)for(e=0;e<t.length;e++)Tl(t[e])}}function Sc(e,t){return e(t)}function xc(){}var Ui=!1;function bc(e,t,n){if(Ui)return e(t,n);Ui=!0;try{return Sc(e,t,n)}finally{Ui=!1,(Cn!==null||On!==null)&&(xc(),kc())}}function Sr(e,t){var n=e.stateNode;if(n===null)return null;var r=gi(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(k(231,t,typeof n));return n}var Ca=!1;if(ot)try{var Qn={};Object.defineProperty(Qn,"passive",{get:function(){Ca=!0}}),window.addEventListener("test",Qn,Qn),window.removeEventListener("test",Qn,Qn)}catch{Ca=!1}function ef(e,t,n,r,s,i,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var dr=!1,Bs=null,Ms=!1,Oa=null,tf={onError:function(e){dr=!0,Bs=e}};function nf(e,t,n,r,s,i,a,o,l){dr=!1,Bs=null,ef.apply(tf,arguments)}function rf(e,t,n,r,s,i,a,o,l){if(nf.apply(this,arguments),dr){if(dr){var u=Bs;dr=!1,Bs=null}else throw Error(k(198));Ms||(Ms=!0,Oa=u)}}function rn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Tc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Nl(e){if(rn(e)!==e)throw Error(k(188))}function sf(e){var t=e.alternate;if(!t){if(t=rn(e),t===null)throw Error(k(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Nl(s),e;if(i===r)return Nl(s),t;i=i.sibling}throw Error(k(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a)throw Error(k(189))}}if(n.alternate!==r)throw Error(k(190))}if(n.tag!==3)throw Error(k(188));return n.stateNode.current===n?e:t}function Nc(e){return e=sf(e),e!==null?Rc(e):null}function Rc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Rc(e);if(t!==null)return t;e=e.sibling}return null}var Cc=Oe.unstable_scheduleCallback,Rl=Oe.unstable_cancelCallback,af=Oe.unstable_shouldYield,of=Oe.unstable_requestPaint,Y=Oe.unstable_now,lf=Oe.unstable_getCurrentPriorityLevel,Co=Oe.unstable_ImmediatePriority,Oc=Oe.unstable_UserBlockingPriority,Fs=Oe.unstable_NormalPriority,uf=Oe.unstable_LowPriority,Pc=Oe.unstable_IdlePriority,hi=null,Ze=null;function cf(e){if(Ze&&typeof Ze.onCommitFiberRoot=="function")try{Ze.onCommitFiberRoot(hi,e,void 0,(e.current.flags&128)===128)}catch{}}var Ke=Math.clz32?Math.clz32:ff,df=Math.log,hf=Math.LN2;function ff(e){return e>>>=0,e===0?32:31-(df(e)/hf|0)|0}var is=64,as=4194304;function ar(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ws(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var o=a&~s;o!==0?r=ar(o):(i&=a,i!==0&&(r=ar(i)))}else a=n&~s,a!==0?r=ar(a):i!==0&&(r=ar(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ke(t),s=1<<n,r|=e[n],t&=~s;return r}function pf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mf(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-Ke(i),o=1<<a,l=s[a];l===-1?(!(o&n)||o&r)&&(s[a]=pf(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}function Pa(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ac(){var e=is;return is<<=1,!(is&4194240)&&(is=64),e}function Di(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Hr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ke(t),e[t]=n}function gf(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Ke(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Oo(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ke(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var D=0;function Ic(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var jc,Po,Lc,zc,$c,Aa=!1,os=[],kt=null,St=null,xt=null,xr=new Map,br=new Map,vt=[],vf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cl(e,t){switch(e){case"focusin":case"focusout":kt=null;break;case"dragenter":case"dragleave":St=null;break;case"mouseover":case"mouseout":xt=null;break;case"pointerover":case"pointerout":xr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":br.delete(t.pointerId)}}function Yn(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Gr(t),t!==null&&Po(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function yf(e,t,n,r,s){switch(t){case"focusin":return kt=Yn(kt,e,t,n,r,s),!0;case"dragenter":return St=Yn(St,e,t,n,r,s),!0;case"mouseover":return xt=Yn(xt,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return xr.set(i,Yn(xr.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,br.set(i,Yn(br.get(i)||null,e,t,n,r,s)),!0}return!1}function Uc(e){var t=Vt(e.target);if(t!==null){var n=rn(t);if(n!==null){if(t=n.tag,t===13){if(t=Tc(n),t!==null){e.blockedOn=t,$c(e.priority,function(){Lc(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Cs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ia(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Na=r,n.target.dispatchEvent(r),Na=null}else return t=Gr(n),t!==null&&Po(t),e.blockedOn=n,!1;t.shift()}return!0}function Ol(e,t,n){Cs(e)&&n.delete(t)}function wf(){Aa=!1,kt!==null&&Cs(kt)&&(kt=null),St!==null&&Cs(St)&&(St=null),xt!==null&&Cs(xt)&&(xt=null),xr.forEach(Ol),br.forEach(Ol)}function Xn(e,t){e.blockedOn===t&&(e.blockedOn=null,Aa||(Aa=!0,Oe.unstable_scheduleCallback(Oe.unstable_NormalPriority,wf)))}function Tr(e){function t(s){return Xn(s,e)}if(0<os.length){Xn(os[0],e);for(var n=1;n<os.length;n++){var r=os[n];r.blockedOn===e&&(r.blockedOn=null)}}for(kt!==null&&Xn(kt,e),St!==null&&Xn(St,e),xt!==null&&Xn(xt,e),xr.forEach(t),br.forEach(t),n=0;n<vt.length;n++)r=vt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<vt.length&&(n=vt[0],n.blockedOn===null);)Uc(n),n.blockedOn===null&&vt.shift()}var Pn=dt.ReactCurrentBatchConfig,Vs=!0;function _f(e,t,n,r){var s=D,i=Pn.transition;Pn.transition=null;try{D=1,Ao(e,t,n,r)}finally{D=s,Pn.transition=i}}function Ef(e,t,n,r){var s=D,i=Pn.transition;Pn.transition=null;try{D=4,Ao(e,t,n,r)}finally{D=s,Pn.transition=i}}function Ao(e,t,n,r){if(Vs){var s=Ia(e,t,n,r);if(s===null)Ji(e,t,r,qs,n),Cl(e,r);else if(yf(s,e,t,n,r))r.stopPropagation();else if(Cl(e,r),t&4&&-1<vf.indexOf(e)){for(;s!==null;){var i=Gr(s);if(i!==null&&jc(i),i=Ia(e,t,n,r),i===null&&Ji(e,t,r,qs,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Ji(e,t,r,null,n)}}var qs=null;function Ia(e,t,n,r){if(qs=null,e=Ro(r),e=Vt(e),e!==null)if(t=rn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Tc(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qs=e,null}function Dc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lf()){case Co:return 1;case Oc:return 4;case Fs:case uf:return 16;case Pc:return 536870912;default:return 16}default:return 16}}var _t=null,Io=null,Os=null;function Bc(){if(Os)return Os;var e,t=Io,n=t.length,r,s="value"in _t?_t.value:_t.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===s[i-r];r++);return Os=s.slice(e,1<r?1-r:void 0)}function Ps(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ls(){return!0}function Pl(){return!1}function Ae(e){function t(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ls:Pl,this.isPropagationStopped=Pl,this}return K(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ls)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ls)},persist:function(){},isPersistent:ls}),t}var Vn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jo=Ae(Vn),Kr=K({},Vn,{view:0,detail:0}),kf=Ae(Kr),Bi,Mi,Zn,fi=K({},Kr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zn&&(Zn&&e.type==="mousemove"?(Bi=e.screenX-Zn.screenX,Mi=e.screenY-Zn.screenY):Mi=Bi=0,Zn=e),Bi)},movementY:function(e){return"movementY"in e?e.movementY:Mi}}),Al=Ae(fi),Sf=K({},fi,{dataTransfer:0}),xf=Ae(Sf),bf=K({},Kr,{relatedTarget:0}),Fi=Ae(bf),Tf=K({},Vn,{animationName:0,elapsedTime:0,pseudoElement:0}),Nf=Ae(Tf),Rf=K({},Vn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Cf=Ae(Rf),Of=K({},Vn,{data:0}),Il=Ae(Of),Pf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Af={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},If={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=If[e])?!!t[e]:!1}function Lo(){return jf}var Lf=K({},Kr,{key:function(e){if(e.key){var t=Pf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ps(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Af[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lo,charCode:function(e){return e.type==="keypress"?Ps(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ps(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zf=Ae(Lf),$f=K({},fi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jl=Ae($f),Uf=K({},Kr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lo}),Df=Ae(Uf),Bf=K({},Vn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mf=Ae(Bf),Ff=K({},fi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Wf=Ae(Ff),Vf=[9,13,27,32],zo=ot&&"CompositionEvent"in window,hr=null;ot&&"documentMode"in document&&(hr=document.documentMode);var qf=ot&&"TextEvent"in window&&!hr,Mc=ot&&(!zo||hr&&8<hr&&11>=hr),Ll=" ",zl=!1;function Fc(e,t){switch(e){case"keyup":return Vf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var vn=!1;function Hf(e,t){switch(e){case"compositionend":return Wc(t);case"keypress":return t.which!==32?null:(zl=!0,Ll);case"textInput":return e=t.data,e===Ll&&zl?null:e;default:return null}}function Kf(e,t){if(vn)return e==="compositionend"||!zo&&Fc(e,t)?(e=Bc(),Os=Io=_t=null,vn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mc&&t.locale!=="ko"?null:t.data;default:return null}}var Gf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $l(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Gf[e.type]:t==="textarea"}function Vc(e,t,n,r){Ec(r),t=Hs(t,"onChange"),0<t.length&&(n=new jo("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var fr=null,Nr=null;function Jf(e){td(e,0)}function pi(e){var t=_n(e);if(pc(t))return e}function Qf(e,t){if(e==="change")return t}var qc=!1;if(ot){var Wi;if(ot){var Vi="oninput"in document;if(!Vi){var Ul=document.createElement("div");Ul.setAttribute("oninput","return;"),Vi=typeof Ul.oninput=="function"}Wi=Vi}else Wi=!1;qc=Wi&&(!document.documentMode||9<document.documentMode)}function Dl(){fr&&(fr.detachEvent("onpropertychange",Hc),Nr=fr=null)}function Hc(e){if(e.propertyName==="value"&&pi(Nr)){var t=[];Vc(t,Nr,e,Ro(e)),bc(Jf,t)}}function Yf(e,t,n){e==="focusin"?(Dl(),fr=t,Nr=n,fr.attachEvent("onpropertychange",Hc)):e==="focusout"&&Dl()}function Xf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return pi(Nr)}function Zf(e,t){if(e==="click")return pi(t)}function ep(e,t){if(e==="input"||e==="change")return pi(t)}function tp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Je=typeof Object.is=="function"?Object.is:tp;function Rr(e,t){if(Je(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!ma.call(t,s)||!Je(e[s],t[s]))return!1}return!0}function Bl(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ml(e,t){var n=Bl(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Bl(n)}}function Kc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Kc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Gc(){for(var e=window,t=Ds();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ds(e.document)}return t}function $o(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function np(e){var t=Gc(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Kc(n.ownerDocument.documentElement,n)){if(r!==null&&$o(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Ml(n,i);var a=Ml(n,r);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var rp=ot&&"documentMode"in document&&11>=document.documentMode,yn=null,ja=null,pr=null,La=!1;function Fl(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;La||yn==null||yn!==Ds(r)||(r=yn,"selectionStart"in r&&$o(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),pr&&Rr(pr,r)||(pr=r,r=Hs(ja,"onSelect"),0<r.length&&(t=new jo("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yn)))}function us(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wn={animationend:us("Animation","AnimationEnd"),animationiteration:us("Animation","AnimationIteration"),animationstart:us("Animation","AnimationStart"),transitionend:us("Transition","TransitionEnd")},qi={},Jc={};ot&&(Jc=document.createElement("div").style,"AnimationEvent"in window||(delete wn.animationend.animation,delete wn.animationiteration.animation,delete wn.animationstart.animation),"TransitionEvent"in window||delete wn.transitionend.transition);function mi(e){if(qi[e])return qi[e];if(!wn[e])return e;var t=wn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Jc)return qi[e]=t[n];return e}var Qc=mi("animationend"),Yc=mi("animationiteration"),Xc=mi("animationstart"),Zc=mi("transitionend"),ed=new Map,Wl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function At(e,t){ed.set(e,t),nn(t,[e])}for(var Hi=0;Hi<Wl.length;Hi++){var Ki=Wl[Hi],sp=Ki.toLowerCase(),ip=Ki[0].toUpperCase()+Ki.slice(1);At(sp,"on"+ip)}At(Qc,"onAnimationEnd");At(Yc,"onAnimationIteration");At(Xc,"onAnimationStart");At("dblclick","onDoubleClick");At("focusin","onFocus");At("focusout","onBlur");At(Zc,"onTransitionEnd");Ln("onMouseEnter",["mouseout","mouseover"]);Ln("onMouseLeave",["mouseout","mouseover"]);Ln("onPointerEnter",["pointerout","pointerover"]);Ln("onPointerLeave",["pointerout","pointerover"]);nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));nn("onBeforeInput",["compositionend","keypress","textInput","paste"]);nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ap=new Set("cancel close invalid load scroll toggle".split(" ").concat(or));function Vl(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,rf(r,t,void 0,e),e.currentTarget=null}function td(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;Vl(s,o,u),i=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;Vl(s,o,u),i=l}}}if(Ms)throw e=Oa,Ms=!1,Oa=null,e}function F(e,t){var n=t[Ba];n===void 0&&(n=t[Ba]=new Set);var r=e+"__bubble";n.has(r)||(nd(t,e,2,!1),n.add(r))}function Gi(e,t,n){var r=0;t&&(r|=4),nd(n,e,r,t)}var cs="_reactListening"+Math.random().toString(36).slice(2);function Cr(e){if(!e[cs]){e[cs]=!0,uc.forEach(function(n){n!=="selectionchange"&&(ap.has(n)||Gi(n,!1,e),Gi(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[cs]||(t[cs]=!0,Gi("selectionchange",!1,t))}}function nd(e,t,n,r){switch(Dc(t)){case 1:var s=_f;break;case 4:s=Ef;break;default:s=Ao}n=s.bind(null,t,n,e),s=void 0,!Ca||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Ji(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;a=a.return}for(;o!==null;){if(a=Vt(o),a===null)return;if(l=a.tag,l===5||l===6){r=i=a;continue e}o=o.parentNode}}r=r.return}bc(function(){var u=i,c=Ro(n),g=[];e:{var m=ed.get(e);if(m!==void 0){var v=jo,y=e;switch(e){case"keypress":if(Ps(n)===0)break e;case"keydown":case"keyup":v=zf;break;case"focusin":y="focus",v=Fi;break;case"focusout":y="blur",v=Fi;break;case"beforeblur":case"afterblur":v=Fi;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Al;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=xf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Df;break;case Qc:case Yc:case Xc:v=Nf;break;case Zc:v=Mf;break;case"scroll":v=kf;break;case"wheel":v=Wf;break;case"copy":case"cut":case"paste":v=Cf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=jl}var w=(t&4)!==0,E=!w&&e==="scroll",h=w?m!==null?m+"Capture":null:m;w=[];for(var f=u,p;f!==null;){p=f;var _=p.stateNode;if(p.tag===5&&_!==null&&(p=_,h!==null&&(_=Sr(f,h),_!=null&&w.push(Or(f,_,p)))),E)break;f=f.return}0<w.length&&(m=new v(m,y,null,n,c),g.push({event:m,listeners:w}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",m&&n!==Na&&(y=n.relatedTarget||n.fromElement)&&(Vt(y)||y[lt]))break e;if((v||m)&&(m=c.window===c?c:(m=c.ownerDocument)?m.defaultView||m.parentWindow:window,v?(y=n.relatedTarget||n.toElement,v=u,y=y?Vt(y):null,y!==null&&(E=rn(y),y!==E||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=u),v!==y)){if(w=Al,_="onMouseLeave",h="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(w=jl,_="onPointerLeave",h="onPointerEnter",f="pointer"),E=v==null?m:_n(v),p=y==null?m:_n(y),m=new w(_,f+"leave",v,n,c),m.target=E,m.relatedTarget=p,_=null,Vt(c)===u&&(w=new w(h,f+"enter",y,n,c),w.target=p,w.relatedTarget=E,_=w),E=_,v&&y)t:{for(w=v,h=y,f=0,p=w;p;p=sn(p))f++;for(p=0,_=h;_;_=sn(_))p++;for(;0<f-p;)w=sn(w),f--;for(;0<p-f;)h=sn(h),p--;for(;f--;){if(w===h||h!==null&&w===h.alternate)break t;w=sn(w),h=sn(h)}w=null}else w=null;v!==null&&ql(g,m,v,w,!1),y!==null&&E!==null&&ql(g,E,y,w,!0)}}e:{if(m=u?_n(u):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var S=Qf;else if($l(m))if(qc)S=ep;else{S=Xf;var x=Yf}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(S=Zf);if(S&&(S=S(e,u))){Vc(g,S,n,c);break e}x&&x(e,m,u),e==="focusout"&&(x=m._wrapperState)&&x.controlled&&m.type==="number"&&ka(m,"number",m.value)}switch(x=u?_n(u):window,e){case"focusin":($l(x)||x.contentEditable==="true")&&(yn=x,ja=u,pr=null);break;case"focusout":pr=ja=yn=null;break;case"mousedown":La=!0;break;case"contextmenu":case"mouseup":case"dragend":La=!1,Fl(g,n,c);break;case"selectionchange":if(rp)break;case"keydown":case"keyup":Fl(g,n,c)}var b;if(zo)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else vn?Fc(e,n)&&(R="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(Mc&&n.locale!=="ko"&&(vn||R!=="onCompositionStart"?R==="onCompositionEnd"&&vn&&(b=Bc()):(_t=c,Io="value"in _t?_t.value:_t.textContent,vn=!0)),x=Hs(u,R),0<x.length&&(R=new Il(R,e,null,n,c),g.push({event:R,listeners:x}),b?R.data=b:(b=Wc(n),b!==null&&(R.data=b)))),(b=qf?Hf(e,n):Kf(e,n))&&(u=Hs(u,"onBeforeInput"),0<u.length&&(c=new Il("onBeforeInput","beforeinput",null,n,c),g.push({event:c,listeners:u}),c.data=b))}td(g,t)})}function Or(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hs(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Sr(e,n),i!=null&&r.unshift(Or(e,i,s)),i=Sr(e,t),i!=null&&r.push(Or(e,i,s))),e=e.return}return r}function sn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ql(e,t,n,r,s){for(var i=t._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,s?(l=Sr(n,i),l!=null&&a.unshift(Or(n,l,o))):s||(l=Sr(n,i),l!=null&&a.push(Or(n,l,o)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var op=/\r\n?/g,lp=/\u0000|\uFFFD/g;function Hl(e){return(typeof e=="string"?e:""+e).replace(op,`
`).replace(lp,"")}function ds(e,t,n){if(t=Hl(t),Hl(e)!==t&&n)throw Error(k(425))}function Ks(){}var za=null,$a=null;function Ua(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Da=typeof setTimeout=="function"?setTimeout:void 0,up=typeof clearTimeout=="function"?clearTimeout:void 0,Kl=typeof Promise=="function"?Promise:void 0,cp=typeof queueMicrotask=="function"?queueMicrotask:typeof Kl<"u"?function(e){return Kl.resolve(null).then(e).catch(dp)}:Da;function dp(e){setTimeout(function(){throw e})}function Qi(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Tr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Tr(t)}function bt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Gl(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var qn=Math.random().toString(36).slice(2),Xe="__reactFiber$"+qn,Pr="__reactProps$"+qn,lt="__reactContainer$"+qn,Ba="__reactEvents$"+qn,hp="__reactListeners$"+qn,fp="__reactHandles$"+qn;function Vt(e){var t=e[Xe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[lt]||n[Xe]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Gl(e);e!==null;){if(n=e[Xe])return n;e=Gl(e)}return t}e=n,n=e.parentNode}return null}function Gr(e){return e=e[Xe]||e[lt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function _n(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(k(33))}function gi(e){return e[Pr]||null}var Ma=[],En=-1;function It(e){return{current:e}}function W(e){0>En||(e.current=Ma[En],Ma[En]=null,En--)}function M(e,t){En++,Ma[En]=e.current,e.current=t}var Pt={},me=It(Pt),ke=It(!1),Yt=Pt;function zn(e,t){var n=e.type.contextTypes;if(!n)return Pt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Se(e){return e=e.childContextTypes,e!=null}function Gs(){W(ke),W(me)}function Jl(e,t,n){if(me.current!==Pt)throw Error(k(168));M(me,t),M(ke,n)}function rd(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(k(108,Qh(e)||"Unknown",s));return K({},n,r)}function Js(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Pt,Yt=me.current,M(me,e),M(ke,ke.current),!0}function Ql(e,t,n){var r=e.stateNode;if(!r)throw Error(k(169));n?(e=rd(e,t,Yt),r.__reactInternalMemoizedMergedChildContext=e,W(ke),W(me),M(me,e)):W(ke),M(ke,n)}var rt=null,vi=!1,Yi=!1;function sd(e){rt===null?rt=[e]:rt.push(e)}function pp(e){vi=!0,sd(e)}function jt(){if(!Yi&&rt!==null){Yi=!0;var e=0,t=D;try{var n=rt;for(D=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}rt=null,vi=!1}catch(s){throw rt!==null&&(rt=rt.slice(e+1)),Cc(Co,jt),s}finally{D=t,Yi=!1}}return null}var kn=[],Sn=0,Qs=null,Ys=0,Ie=[],je=0,Xt=null,st=1,it="";function Dt(e,t){kn[Sn++]=Ys,kn[Sn++]=Qs,Qs=e,Ys=t}function id(e,t,n){Ie[je++]=st,Ie[je++]=it,Ie[je++]=Xt,Xt=e;var r=st;e=it;var s=32-Ke(r)-1;r&=~(1<<s),n+=1;var i=32-Ke(t)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,st=1<<32-Ke(t)+s|n<<s|r,it=i+e}else st=1<<i|n<<s|r,it=e}function Uo(e){e.return!==null&&(Dt(e,1),id(e,1,0))}function Do(e){for(;e===Qs;)Qs=kn[--Sn],kn[Sn]=null,Ys=kn[--Sn],kn[Sn]=null;for(;e===Xt;)Xt=Ie[--je],Ie[je]=null,it=Ie[--je],Ie[je]=null,st=Ie[--je],Ie[je]=null}var Ce=null,Re=null,V=!1,He=null;function ad(e,t){var n=Le(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Yl(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ce=e,Re=bt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ce=e,Re=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Xt!==null?{id:st,overflow:it}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Le(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ce=e,Re=null,!0):!1;default:return!1}}function Fa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Wa(e){if(V){var t=Re;if(t){var n=t;if(!Yl(e,t)){if(Fa(e))throw Error(k(418));t=bt(n.nextSibling);var r=Ce;t&&Yl(e,t)?ad(r,n):(e.flags=e.flags&-4097|2,V=!1,Ce=e)}}else{if(Fa(e))throw Error(k(418));e.flags=e.flags&-4097|2,V=!1,Ce=e}}}function Xl(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ce=e}function hs(e){if(e!==Ce)return!1;if(!V)return Xl(e),V=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ua(e.type,e.memoizedProps)),t&&(t=Re)){if(Fa(e))throw od(),Error(k(418));for(;t;)ad(e,t),t=bt(t.nextSibling)}if(Xl(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(k(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Re=bt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Re=null}}else Re=Ce?bt(e.stateNode.nextSibling):null;return!0}function od(){for(var e=Re;e;)e=bt(e.nextSibling)}function $n(){Re=Ce=null,V=!1}function Bo(e){He===null?He=[e]:He.push(e)}var mp=dt.ReactCurrentBatchConfig;function er(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(k(309));var r=n.stateNode}if(!r)throw Error(k(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(k(284));if(!n._owner)throw Error(k(290,e))}return e}function fs(e,t){throw e=Object.prototype.toString.call(t),Error(k(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Zl(e){var t=e._init;return t(e._payload)}function ld(e){function t(h,f){if(e){var p=h.deletions;p===null?(h.deletions=[f],h.flags|=16):p.push(f)}}function n(h,f){if(!e)return null;for(;f!==null;)t(h,f),f=f.sibling;return null}function r(h,f){for(h=new Map;f!==null;)f.key!==null?h.set(f.key,f):h.set(f.index,f),f=f.sibling;return h}function s(h,f){return h=Ct(h,f),h.index=0,h.sibling=null,h}function i(h,f,p){return h.index=p,e?(p=h.alternate,p!==null?(p=p.index,p<f?(h.flags|=2,f):p):(h.flags|=2,f)):(h.flags|=1048576,f)}function a(h){return e&&h.alternate===null&&(h.flags|=2),h}function o(h,f,p,_){return f===null||f.tag!==6?(f=sa(p,h.mode,_),f.return=h,f):(f=s(f,p),f.return=h,f)}function l(h,f,p,_){var S=p.type;return S===gn?c(h,f,p.props.children,_,p.key):f!==null&&(f.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===pt&&Zl(S)===f.type)?(_=s(f,p.props),_.ref=er(h,f,p),_.return=h,_):(_=Us(p.type,p.key,p.props,null,h.mode,_),_.ref=er(h,f,p),_.return=h,_)}function u(h,f,p,_){return f===null||f.tag!==4||f.stateNode.containerInfo!==p.containerInfo||f.stateNode.implementation!==p.implementation?(f=ia(p,h.mode,_),f.return=h,f):(f=s(f,p.children||[]),f.return=h,f)}function c(h,f,p,_,S){return f===null||f.tag!==7?(f=Qt(p,h.mode,_,S),f.return=h,f):(f=s(f,p),f.return=h,f)}function g(h,f,p){if(typeof f=="string"&&f!==""||typeof f=="number")return f=sa(""+f,h.mode,p),f.return=h,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case ns:return p=Us(f.type,f.key,f.props,null,h.mode,p),p.ref=er(h,null,f),p.return=h,p;case mn:return f=ia(f,h.mode,p),f.return=h,f;case pt:var _=f._init;return g(h,_(f._payload),p)}if(ir(f)||Jn(f))return f=Qt(f,h.mode,p,null),f.return=h,f;fs(h,f)}return null}function m(h,f,p,_){var S=f!==null?f.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return S!==null?null:o(h,f,""+p,_);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ns:return p.key===S?l(h,f,p,_):null;case mn:return p.key===S?u(h,f,p,_):null;case pt:return S=p._init,m(h,f,S(p._payload),_)}if(ir(p)||Jn(p))return S!==null?null:c(h,f,p,_,null);fs(h,p)}return null}function v(h,f,p,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return h=h.get(p)||null,o(f,h,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ns:return h=h.get(_.key===null?p:_.key)||null,l(f,h,_,S);case mn:return h=h.get(_.key===null?p:_.key)||null,u(f,h,_,S);case pt:var x=_._init;return v(h,f,p,x(_._payload),S)}if(ir(_)||Jn(_))return h=h.get(p)||null,c(f,h,_,S,null);fs(f,_)}return null}function y(h,f,p,_){for(var S=null,x=null,b=f,R=f=0,U=null;b!==null&&R<p.length;R++){b.index>R?(U=b,b=null):U=b.sibling;var z=m(h,b,p[R],_);if(z===null){b===null&&(b=U);break}e&&b&&z.alternate===null&&t(h,b),f=i(z,f,R),x===null?S=z:x.sibling=z,x=z,b=U}if(R===p.length)return n(h,b),V&&Dt(h,R),S;if(b===null){for(;R<p.length;R++)b=g(h,p[R],_),b!==null&&(f=i(b,f,R),x===null?S=b:x.sibling=b,x=b);return V&&Dt(h,R),S}for(b=r(h,b);R<p.length;R++)U=v(b,h,R,p[R],_),U!==null&&(e&&U.alternate!==null&&b.delete(U.key===null?R:U.key),f=i(U,f,R),x===null?S=U:x.sibling=U,x=U);return e&&b.forEach(function(De){return t(h,De)}),V&&Dt(h,R),S}function w(h,f,p,_){var S=Jn(p);if(typeof S!="function")throw Error(k(150));if(p=S.call(p),p==null)throw Error(k(151));for(var x=S=null,b=f,R=f=0,U=null,z=p.next();b!==null&&!z.done;R++,z=p.next()){b.index>R?(U=b,b=null):U=b.sibling;var De=m(h,b,z.value,_);if(De===null){b===null&&(b=U);break}e&&b&&De.alternate===null&&t(h,b),f=i(De,f,R),x===null?S=De:x.sibling=De,x=De,b=U}if(z.done)return n(h,b),V&&Dt(h,R),S;if(b===null){for(;!z.done;R++,z=p.next())z=g(h,z.value,_),z!==null&&(f=i(z,f,R),x===null?S=z:x.sibling=z,x=z);return V&&Dt(h,R),S}for(b=r(h,b);!z.done;R++,z=p.next())z=v(b,h,R,z.value,_),z!==null&&(e&&z.alternate!==null&&b.delete(z.key===null?R:z.key),f=i(z,f,R),x===null?S=z:x.sibling=z,x=z);return e&&b.forEach(function(Kn){return t(h,Kn)}),V&&Dt(h,R),S}function E(h,f,p,_){if(typeof p=="object"&&p!==null&&p.type===gn&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case ns:e:{for(var S=p.key,x=f;x!==null;){if(x.key===S){if(S=p.type,S===gn){if(x.tag===7){n(h,x.sibling),f=s(x,p.props.children),f.return=h,h=f;break e}}else if(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===pt&&Zl(S)===x.type){n(h,x.sibling),f=s(x,p.props),f.ref=er(h,x,p),f.return=h,h=f;break e}n(h,x);break}else t(h,x);x=x.sibling}p.type===gn?(f=Qt(p.props.children,h.mode,_,p.key),f.return=h,h=f):(_=Us(p.type,p.key,p.props,null,h.mode,_),_.ref=er(h,f,p),_.return=h,h=_)}return a(h);case mn:e:{for(x=p.key;f!==null;){if(f.key===x)if(f.tag===4&&f.stateNode.containerInfo===p.containerInfo&&f.stateNode.implementation===p.implementation){n(h,f.sibling),f=s(f,p.children||[]),f.return=h,h=f;break e}else{n(h,f);break}else t(h,f);f=f.sibling}f=ia(p,h.mode,_),f.return=h,h=f}return a(h);case pt:return x=p._init,E(h,f,x(p._payload),_)}if(ir(p))return y(h,f,p,_);if(Jn(p))return w(h,f,p,_);fs(h,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,f!==null&&f.tag===6?(n(h,f.sibling),f=s(f,p),f.return=h,h=f):(n(h,f),f=sa(p,h.mode,_),f.return=h,h=f),a(h)):n(h,f)}return E}var Un=ld(!0),ud=ld(!1),Xs=It(null),Zs=null,xn=null,Mo=null;function Fo(){Mo=xn=Zs=null}function Wo(e){var t=Xs.current;W(Xs),e._currentValue=t}function Va(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function An(e,t){Zs=e,Mo=xn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ee=!0),e.firstContext=null)}function $e(e){var t=e._currentValue;if(Mo!==e)if(e={context:e,memoizedValue:t,next:null},xn===null){if(Zs===null)throw Error(k(308));xn=e,Zs.dependencies={lanes:0,firstContext:e}}else xn=xn.next=e;return t}var qt=null;function Vo(e){qt===null?qt=[e]:qt.push(e)}function cd(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Vo(t)):(n.next=s.next,s.next=n),t.interleaved=n,ut(e,r)}function ut(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var mt=!1;function qo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function at(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Tt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,$&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,ut(e,n)}return s=r.interleaved,s===null?(t.next=t,Vo(r)):(t.next=s.next,s.next=t),r.interleaved=t,ut(e,n)}function As(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Oo(e,n)}}function eu(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ei(e,t,n,r){var s=e.updateQueue;mt=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?i=u:a.next=u,a=l;var c=e.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==a&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(i!==null){var g=s.baseState;a=0,c=u=l=null,o=i;do{var m=o.lane,v=o.eventTime;if((r&m)===m){c!==null&&(c=c.next={eventTime:v,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=e,w=o;switch(m=t,v=n,w.tag){case 1:if(y=w.payload,typeof y=="function"){g=y.call(v,g,m);break e}g=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,m=typeof y=="function"?y.call(v,g,m):y,m==null)break e;g=K({},g,m);break e;case 2:mt=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[o]:m.push(o))}else v={eventTime:v,lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=v,l=g):c=c.next=v,a|=m;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;m=o,o=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(c===null&&(l=g),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);en|=a,e.lanes=a,e.memoizedState=g}}function tu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(k(191,s));s.call(r)}}}var Jr={},et=It(Jr),Ar=It(Jr),Ir=It(Jr);function Ht(e){if(e===Jr)throw Error(k(174));return e}function Ho(e,t){switch(M(Ir,t),M(Ar,e),M(et,Jr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:xa(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=xa(t,e)}W(et),M(et,t)}function Dn(){W(et),W(Ar),W(Ir)}function hd(e){Ht(Ir.current);var t=Ht(et.current),n=xa(t,e.type);t!==n&&(M(Ar,e),M(et,n))}function Ko(e){Ar.current===e&&(W(et),W(Ar))}var q=It(0);function ti(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Xi=[];function Go(){for(var e=0;e<Xi.length;e++)Xi[e]._workInProgressVersionPrimary=null;Xi.length=0}var Is=dt.ReactCurrentDispatcher,Zi=dt.ReactCurrentBatchConfig,Zt=0,H=null,te=null,se=null,ni=!1,mr=!1,jr=0,gp=0;function de(){throw Error(k(321))}function Jo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Je(e[n],t[n]))return!1;return!0}function Qo(e,t,n,r,s,i){if(Zt=i,H=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Is.current=e===null||e.memoizedState===null?_p:Ep,e=n(r,s),mr){i=0;do{if(mr=!1,jr=0,25<=i)throw Error(k(301));i+=1,se=te=null,t.updateQueue=null,Is.current=kp,e=n(r,s)}while(mr)}if(Is.current=ri,t=te!==null&&te.next!==null,Zt=0,se=te=H=null,ni=!1,t)throw Error(k(300));return e}function Yo(){var e=jr!==0;return jr=0,e}function Ye(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return se===null?H.memoizedState=se=e:se=se.next=e,se}function Ue(){if(te===null){var e=H.alternate;e=e!==null?e.memoizedState:null}else e=te.next;var t=se===null?H.memoizedState:se.next;if(t!==null)se=t,te=e;else{if(e===null)throw Error(k(310));te=e,e={memoizedState:te.memoizedState,baseState:te.baseState,baseQueue:te.baseQueue,queue:te.queue,next:null},se===null?H.memoizedState=se=e:se=se.next=e}return se}function Lr(e,t){return typeof t=="function"?t(e):t}function ea(e){var t=Ue(),n=t.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=e;var r=te,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var o=a=null,l=null,u=i;do{var c=u.lane;if((Zt&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var g={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=g,a=r):l=l.next=g,H.lanes|=c,en|=c}u=u.next}while(u!==null&&u!==i);l===null?a=r:l.next=o,Je(r,t.memoizedState)||(Ee=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,H.lanes|=i,en|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ta(e){var t=Ue(),n=t.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);Je(i,t.memoizedState)||(Ee=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function fd(){}function pd(e,t){var n=H,r=Ue(),s=t(),i=!Je(r.memoizedState,s);if(i&&(r.memoizedState=s,Ee=!0),r=r.queue,Xo(vd.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||se!==null&&se.memoizedState.tag&1){if(n.flags|=2048,zr(9,gd.bind(null,n,r,s,t),void 0,null),ie===null)throw Error(k(349));Zt&30||md(n,t,s)}return s}function md(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=H.updateQueue,t===null?(t={lastEffect:null,stores:null},H.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function gd(e,t,n,r){t.value=n,t.getSnapshot=r,yd(t)&&wd(e)}function vd(e,t,n){return n(function(){yd(t)&&wd(e)})}function yd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Je(e,n)}catch{return!0}}function wd(e){var t=ut(e,1);t!==null&&Ge(t,e,1,-1)}function nu(e){var t=Ye();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lr,lastRenderedState:e},t.queue=e,e=e.dispatch=wp.bind(null,H,e),[t.memoizedState,e]}function zr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=H.updateQueue,t===null?(t={lastEffect:null,stores:null},H.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function _d(){return Ue().memoizedState}function js(e,t,n,r){var s=Ye();H.flags|=e,s.memoizedState=zr(1|t,n,void 0,r===void 0?null:r)}function yi(e,t,n,r){var s=Ue();r=r===void 0?null:r;var i=void 0;if(te!==null){var a=te.memoizedState;if(i=a.destroy,r!==null&&Jo(r,a.deps)){s.memoizedState=zr(t,n,i,r);return}}H.flags|=e,s.memoizedState=zr(1|t,n,i,r)}function ru(e,t){return js(8390656,8,e,t)}function Xo(e,t){return yi(2048,8,e,t)}function Ed(e,t){return yi(4,2,e,t)}function kd(e,t){return yi(4,4,e,t)}function Sd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function xd(e,t,n){return n=n!=null?n.concat([e]):null,yi(4,4,Sd.bind(null,t,e),n)}function Zo(){}function bd(e,t){var n=Ue();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Jo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Td(e,t){var n=Ue();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Jo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Nd(e,t,n){return Zt&21?(Je(n,t)||(n=Ac(),H.lanes|=n,en|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ee=!0),e.memoizedState=n)}function vp(e,t){var n=D;D=n!==0&&4>n?n:4,e(!0);var r=Zi.transition;Zi.transition={};try{e(!1),t()}finally{D=n,Zi.transition=r}}function Rd(){return Ue().memoizedState}function yp(e,t,n){var r=Rt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Cd(e))Od(t,n);else if(n=cd(e,t,n,r),n!==null){var s=ve();Ge(n,e,r,s),Pd(n,t,r)}}function wp(e,t,n){var r=Rt(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Cd(e))Od(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,o=i(a,n);if(s.hasEagerState=!0,s.eagerState=o,Je(o,a)){var l=t.interleaved;l===null?(s.next=s,Vo(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=cd(e,t,s,r),n!==null&&(s=ve(),Ge(n,e,r,s),Pd(n,t,r))}}function Cd(e){var t=e.alternate;return e===H||t!==null&&t===H}function Od(e,t){mr=ni=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Pd(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Oo(e,n)}}var ri={readContext:$e,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useInsertionEffect:de,useLayoutEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useMutableSource:de,useSyncExternalStore:de,useId:de,unstable_isNewReconciler:!1},_p={readContext:$e,useCallback:function(e,t){return Ye().memoizedState=[e,t===void 0?null:t],e},useContext:$e,useEffect:ru,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,js(4194308,4,Sd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return js(4194308,4,e,t)},useInsertionEffect:function(e,t){return js(4,2,e,t)},useMemo:function(e,t){var n=Ye();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ye();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=yp.bind(null,H,e),[r.memoizedState,e]},useRef:function(e){var t=Ye();return e={current:e},t.memoizedState=e},useState:nu,useDebugValue:Zo,useDeferredValue:function(e){return Ye().memoizedState=e},useTransition:function(){var e=nu(!1),t=e[0];return e=vp.bind(null,e[1]),Ye().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=H,s=Ye();if(V){if(n===void 0)throw Error(k(407));n=n()}else{if(n=t(),ie===null)throw Error(k(349));Zt&30||md(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,ru(vd.bind(null,r,i,e),[e]),r.flags|=2048,zr(9,gd.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Ye(),t=ie.identifierPrefix;if(V){var n=it,r=st;n=(r&~(1<<32-Ke(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=jr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=gp++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ep={readContext:$e,useCallback:bd,useContext:$e,useEffect:Xo,useImperativeHandle:xd,useInsertionEffect:Ed,useLayoutEffect:kd,useMemo:Td,useReducer:ea,useRef:_d,useState:function(){return ea(Lr)},useDebugValue:Zo,useDeferredValue:function(e){var t=Ue();return Nd(t,te.memoizedState,e)},useTransition:function(){var e=ea(Lr)[0],t=Ue().memoizedState;return[e,t]},useMutableSource:fd,useSyncExternalStore:pd,useId:Rd,unstable_isNewReconciler:!1},kp={readContext:$e,useCallback:bd,useContext:$e,useEffect:Xo,useImperativeHandle:xd,useInsertionEffect:Ed,useLayoutEffect:kd,useMemo:Td,useReducer:ta,useRef:_d,useState:function(){return ta(Lr)},useDebugValue:Zo,useDeferredValue:function(e){var t=Ue();return te===null?t.memoizedState=e:Nd(t,te.memoizedState,e)},useTransition:function(){var e=ta(Lr)[0],t=Ue().memoizedState;return[e,t]},useMutableSource:fd,useSyncExternalStore:pd,useId:Rd,unstable_isNewReconciler:!1};function Fe(e,t){if(e&&e.defaultProps){t=K({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function qa(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:K({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var wi={isMounted:function(e){return(e=e._reactInternals)?rn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ve(),s=Rt(e),i=at(r,s);i.payload=t,n!=null&&(i.callback=n),t=Tt(e,i,s),t!==null&&(Ge(t,e,s,r),As(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ve(),s=Rt(e),i=at(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Tt(e,i,s),t!==null&&(Ge(t,e,s,r),As(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ve(),r=Rt(e),s=at(n,r);s.tag=2,t!=null&&(s.callback=t),t=Tt(e,s,r),t!==null&&(Ge(t,e,r,n),As(t,e,r))}};function su(e,t,n,r,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,a):t.prototype&&t.prototype.isPureReactComponent?!Rr(n,r)||!Rr(s,i):!0}function Ad(e,t,n){var r=!1,s=Pt,i=t.contextType;return typeof i=="object"&&i!==null?i=$e(i):(s=Se(t)?Yt:me.current,r=t.contextTypes,i=(r=r!=null)?zn(e,s):Pt),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=wi,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function iu(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&wi.enqueueReplaceState(t,t.state,null)}function Ha(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},qo(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=$e(i):(i=Se(t)?Yt:me.current,s.context=zn(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(qa(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&wi.enqueueReplaceState(s,s.state,null),ei(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Bn(e,t){try{var n="",r=t;do n+=Jh(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function na(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ka(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Sp=typeof WeakMap=="function"?WeakMap:Map;function Id(e,t,n){n=at(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ii||(ii=!0,ro=r),Ka(e,t)},n}function jd(e,t,n){n=at(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Ka(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ka(e,t),typeof r!="function"&&(Nt===null?Nt=new Set([this]):Nt.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function au(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Sp;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=$p.bind(null,e,t,n),t.then(e,e))}function ou(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function lu(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=at(-1,1),t.tag=2,Tt(n,t,1))),n.lanes|=1),e)}var xp=dt.ReactCurrentOwner,Ee=!1;function ge(e,t,n,r){t.child=e===null?ud(t,null,n,r):Un(t,e.child,n,r)}function uu(e,t,n,r,s){n=n.render;var i=t.ref;return An(t,s),r=Qo(e,t,n,r,i,s),n=Yo(),e!==null&&!Ee?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ct(e,t,s)):(V&&n&&Uo(t),t.flags|=1,ge(e,t,r,s),t.child)}function cu(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!ol(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Ld(e,t,i,r,s)):(e=Us(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Rr,n(a,r)&&e.ref===t.ref)return ct(e,t,s)}return t.flags|=1,e=Ct(i,r),e.ref=t.ref,e.return=t,t.child=e}function Ld(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Rr(i,r)&&e.ref===t.ref)if(Ee=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Ee=!0);else return t.lanes=e.lanes,ct(e,t,s)}return Ga(e,t,n,r,s)}function zd(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},M(Tn,Te),Te|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,M(Tn,Te),Te|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,M(Tn,Te),Te|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,M(Tn,Te),Te|=r;return ge(e,t,s,n),t.child}function $d(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ga(e,t,n,r,s){var i=Se(n)?Yt:me.current;return i=zn(t,i),An(t,s),n=Qo(e,t,n,r,i,s),r=Yo(),e!==null&&!Ee?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ct(e,t,s)):(V&&r&&Uo(t),t.flags|=1,ge(e,t,n,s),t.child)}function du(e,t,n,r,s){if(Se(n)){var i=!0;Js(t)}else i=!1;if(An(t,s),t.stateNode===null)Ls(e,t),Ad(t,n,r),Ha(t,n,r,s),r=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=$e(u):(u=Se(n)?Yt:me.current,u=zn(t,u));var c=n.getDerivedStateFromProps,g=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";g||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==u)&&iu(t,a,r,u),mt=!1;var m=t.memoizedState;a.state=m,ei(t,r,a,s),l=t.memoizedState,o!==r||m!==l||ke.current||mt?(typeof c=="function"&&(qa(t,n,c,r),l=t.memoizedState),(o=mt||su(t,n,o,r,m,l,u))?(g||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,dd(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Fe(t.type,o),a.props=u,g=t.pendingProps,m=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=$e(l):(l=Se(n)?Yt:me.current,l=zn(t,l));var v=n.getDerivedStateFromProps;(c=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==g||m!==l)&&iu(t,a,r,l),mt=!1,m=t.memoizedState,a.state=m,ei(t,r,a,s);var y=t.memoizedState;o!==g||m!==y||ke.current||mt?(typeof v=="function"&&(qa(t,n,v,r),y=t.memoizedState),(u=mt||su(t,n,u,r,m,y,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,y,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,y,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),a.props=r,a.state=y,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return Ja(e,t,n,r,i,s)}function Ja(e,t,n,r,s,i){$d(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return s&&Ql(t,n,!1),ct(e,t,i);r=t.stateNode,xp.current=t;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Un(t,e.child,null,i),t.child=Un(t,null,o,i)):ge(e,t,o,i),t.memoizedState=r.state,s&&Ql(t,n,!0),t.child}function Ud(e){var t=e.stateNode;t.pendingContext?Jl(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Jl(e,t.context,!1),Ho(e,t.containerInfo)}function hu(e,t,n,r,s){return $n(),Bo(s),t.flags|=256,ge(e,t,n,r),t.child}var Qa={dehydrated:null,treeContext:null,retryLane:0};function Ya(e){return{baseLanes:e,cachePool:null,transitions:null}}function Dd(e,t,n){var r=t.pendingProps,s=q.current,i=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),M(q,s&1),e===null)return Wa(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,i?(r=t.mode,i=t.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=ki(a,r,0,null),e=Qt(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Ya(n),t.memoizedState=Qa,e):el(t,a));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return bp(e,t,a,r,o,s,n);if(i){i=r.fallback,a=t.mode,s=e.child,o=s.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Ct(s,l),r.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=Ct(o,i):(i=Qt(i,a,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,a=e.child.memoizedState,a=a===null?Ya(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=Qa,r}return i=e.child,e=i.sibling,r=Ct(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function el(e,t){return t=ki({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ps(e,t,n,r){return r!==null&&Bo(r),Un(t,e.child,null,n),e=el(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function bp(e,t,n,r,s,i,a){if(n)return t.flags&256?(t.flags&=-257,r=na(Error(k(422))),ps(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=ki({mode:"visible",children:r.children},s,0,null),i=Qt(i,s,a,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Un(t,e.child,null,a),t.child.memoizedState=Ya(a),t.memoizedState=Qa,i);if(!(t.mode&1))return ps(e,t,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var o=r.dgst;return r=o,i=Error(k(419)),r=na(i,r,void 0),ps(e,t,a,r)}if(o=(a&e.childLanes)!==0,Ee||o){if(r=ie,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ut(e,s),Ge(r,e,s,-1))}return al(),r=na(Error(k(421))),ps(e,t,a,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Up.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Re=bt(s.nextSibling),Ce=t,V=!0,He=null,e!==null&&(Ie[je++]=st,Ie[je++]=it,Ie[je++]=Xt,st=e.id,it=e.overflow,Xt=t),t=el(t,r.children),t.flags|=4096,t)}function fu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Va(e.return,t,n)}function ra(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Bd(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(ge(e,t,r.children,n),r=q.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&fu(e,n,t);else if(e.tag===19)fu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(M(q,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&ti(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),ra(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ti(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}ra(t,!0,n,null,i);break;case"together":ra(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ls(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ct(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),en|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(k(153));if(t.child!==null){for(e=t.child,n=Ct(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ct(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Tp(e,t,n){switch(t.tag){case 3:Ud(t),$n();break;case 5:hd(t);break;case 1:Se(t.type)&&Js(t);break;case 4:Ho(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;M(Xs,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(M(q,q.current&1),t.flags|=128,null):n&t.child.childLanes?Dd(e,t,n):(M(q,q.current&1),e=ct(e,t,n),e!==null?e.sibling:null);M(q,q.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Bd(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),M(q,q.current),r)break;return null;case 22:case 23:return t.lanes=0,zd(e,t,n)}return ct(e,t,n)}var Md,Xa,Fd,Wd;Md=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Xa=function(){};Fd=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Ht(et.current);var i=null;switch(n){case"input":s=_a(e,s),r=_a(e,r),i=[];break;case"select":s=K({},s,{value:void 0}),r=K({},r,{value:void 0}),i=[];break;case"textarea":s=Sa(e,s),r=Sa(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ks)}ba(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Er.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(o=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Er.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&F("scroll",e),i||o===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Wd=function(e,t,n,r){n!==r&&(t.flags|=4)};function tr(e,t){if(!V)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function he(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Np(e,t,n){var r=t.pendingProps;switch(Do(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return he(t),null;case 1:return Se(t.type)&&Gs(),he(t),null;case 3:return r=t.stateNode,Dn(),W(ke),W(me),Go(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(hs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,He!==null&&(ao(He),He=null))),Xa(e,t),he(t),null;case 5:Ko(t);var s=Ht(Ir.current);if(n=t.type,e!==null&&t.stateNode!=null)Fd(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(k(166));return he(t),null}if(e=Ht(et.current),hs(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Xe]=t,r[Pr]=i,e=(t.mode&1)!==0,n){case"dialog":F("cancel",r),F("close",r);break;case"iframe":case"object":case"embed":F("load",r);break;case"video":case"audio":for(s=0;s<or.length;s++)F(or[s],r);break;case"source":F("error",r);break;case"img":case"image":case"link":F("error",r),F("load",r);break;case"details":F("toggle",r);break;case"input":kl(r,i),F("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},F("invalid",r);break;case"textarea":xl(r,i),F("invalid",r)}ba(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?r.textContent!==o&&(i.suppressHydrationWarning!==!0&&ds(r.textContent,o,e),s=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&ds(r.textContent,o,e),s=["children",""+o]):Er.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&F("scroll",r)}switch(n){case"input":rs(r),Sl(r,i,!0);break;case"textarea":rs(r),bl(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ks)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=vc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Xe]=t,e[Pr]=r,Md(e,t,!1,!1),t.stateNode=e;e:{switch(a=Ta(n,r),n){case"dialog":F("cancel",e),F("close",e),s=r;break;case"iframe":case"object":case"embed":F("load",e),s=r;break;case"video":case"audio":for(s=0;s<or.length;s++)F(or[s],e);s=r;break;case"source":F("error",e),s=r;break;case"img":case"image":case"link":F("error",e),F("load",e),s=r;break;case"details":F("toggle",e),s=r;break;case"input":kl(e,r),s=_a(e,r),F("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=K({},r,{value:void 0}),F("invalid",e);break;case"textarea":xl(e,r),s=Sa(e,r),F("invalid",e);break;default:s=r}ba(n,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?_c(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&yc(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&kr(e,l):typeof l=="number"&&kr(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Er.hasOwnProperty(i)?l!=null&&i==="onScroll"&&F("scroll",e):l!=null&&xo(e,i,l,a))}switch(n){case"input":rs(e),Sl(e,r,!1);break;case"textarea":rs(e),bl(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ot(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Rn(e,!!r.multiple,i,!1):r.defaultValue!=null&&Rn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ks)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return he(t),null;case 6:if(e&&t.stateNode!=null)Wd(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(k(166));if(n=Ht(Ir.current),Ht(et.current),hs(t)){if(r=t.stateNode,n=t.memoizedProps,r[Xe]=t,(i=r.nodeValue!==n)&&(e=Ce,e!==null))switch(e.tag){case 3:ds(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ds(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Xe]=t,t.stateNode=r}return he(t),null;case 13:if(W(q),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(V&&Re!==null&&t.mode&1&&!(t.flags&128))od(),$n(),t.flags|=98560,i=!1;else if(i=hs(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(k(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(k(317));i[Xe]=t}else $n(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;he(t),i=!1}else He!==null&&(ao(He),He=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||q.current&1?ne===0&&(ne=3):al())),t.updateQueue!==null&&(t.flags|=4),he(t),null);case 4:return Dn(),Xa(e,t),e===null&&Cr(t.stateNode.containerInfo),he(t),null;case 10:return Wo(t.type._context),he(t),null;case 17:return Se(t.type)&&Gs(),he(t),null;case 19:if(W(q),i=t.memoizedState,i===null)return he(t),null;if(r=(t.flags&128)!==0,a=i.rendering,a===null)if(r)tr(i,!1);else{if(ne!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=ti(e),a!==null){for(t.flags|=128,tr(i,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return M(q,q.current&1|2),t.child}e=e.sibling}i.tail!==null&&Y()>Mn&&(t.flags|=128,r=!0,tr(i,!1),t.lanes=4194304)}else{if(!r)if(e=ti(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),tr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!V)return he(t),null}else 2*Y()-i.renderingStartTime>Mn&&n!==1073741824&&(t.flags|=128,r=!0,tr(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Y(),t.sibling=null,n=q.current,M(q,r?n&1|2:n&1),t):(he(t),null);case 22:case 23:return il(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Te&1073741824&&(he(t),t.subtreeFlags&6&&(t.flags|=8192)):he(t),null;case 24:return null;case 25:return null}throw Error(k(156,t.tag))}function Rp(e,t){switch(Do(t),t.tag){case 1:return Se(t.type)&&Gs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Dn(),W(ke),W(me),Go(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ko(t),null;case 13:if(W(q),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(k(340));$n()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return W(q),null;case 4:return Dn(),null;case 10:return Wo(t.type._context),null;case 22:case 23:return il(),null;case 24:return null;default:return null}}var ms=!1,pe=!1,Cp=typeof WeakSet=="function"?WeakSet:Set,T=null;function bn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){J(e,t,r)}else n.current=null}function Za(e,t,n){try{n()}catch(r){J(e,t,r)}}var pu=!1;function Op(e,t){if(za=Vs,e=Gc(),$o(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,u=0,c=0,g=e,m=null;t:for(;;){for(var v;g!==n||s!==0&&g.nodeType!==3||(o=a+s),g!==i||r!==0&&g.nodeType!==3||(l=a+r),g.nodeType===3&&(a+=g.nodeValue.length),(v=g.firstChild)!==null;)m=g,g=v;for(;;){if(g===e)break t;if(m===n&&++u===s&&(o=a),m===i&&++c===r&&(l=a),(v=g.nextSibling)!==null)break;g=m,m=g.parentNode}g=v}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for($a={focusedElem:e,selectionRange:n},Vs=!1,T=t;T!==null;)if(t=T,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,T=e;else for(;T!==null;){t=T;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,E=y.memoizedState,h=t.stateNode,f=h.getSnapshotBeforeUpdate(t.elementType===t.type?w:Fe(t.type,w),E);h.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(k(163))}}catch(_){J(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,T=e;break}T=t.return}return y=pu,pu=!1,y}function gr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Za(t,n,i)}s=s.next}while(s!==r)}}function _i(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function eo(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Vd(e){var t=e.alternate;t!==null&&(e.alternate=null,Vd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Xe],delete t[Pr],delete t[Ba],delete t[hp],delete t[fp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function qd(e){return e.tag===5||e.tag===3||e.tag===4}function mu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||qd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function to(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ks));else if(r!==4&&(e=e.child,e!==null))for(to(e,t,n),e=e.sibling;e!==null;)to(e,t,n),e=e.sibling}function no(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(no(e,t,n),e=e.sibling;e!==null;)no(e,t,n),e=e.sibling}var le=null,Ve=!1;function ft(e,t,n){for(n=n.child;n!==null;)Hd(e,t,n),n=n.sibling}function Hd(e,t,n){if(Ze&&typeof Ze.onCommitFiberUnmount=="function")try{Ze.onCommitFiberUnmount(hi,n)}catch{}switch(n.tag){case 5:pe||bn(n,t);case 6:var r=le,s=Ve;le=null,ft(e,t,n),le=r,Ve=s,le!==null&&(Ve?(e=le,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):le.removeChild(n.stateNode));break;case 18:le!==null&&(Ve?(e=le,n=n.stateNode,e.nodeType===8?Qi(e.parentNode,n):e.nodeType===1&&Qi(e,n),Tr(e)):Qi(le,n.stateNode));break;case 4:r=le,s=Ve,le=n.stateNode.containerInfo,Ve=!0,ft(e,t,n),le=r,Ve=s;break;case 0:case 11:case 14:case 15:if(!pe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Za(n,t,a),s=s.next}while(s!==r)}ft(e,t,n);break;case 1:if(!pe&&(bn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){J(n,t,o)}ft(e,t,n);break;case 21:ft(e,t,n);break;case 22:n.mode&1?(pe=(r=pe)||n.memoizedState!==null,ft(e,t,n),pe=r):ft(e,t,n);break;default:ft(e,t,n)}}function gu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Cp),t.forEach(function(r){var s=Dp.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Be(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:le=o.stateNode,Ve=!1;break e;case 3:le=o.stateNode.containerInfo,Ve=!0;break e;case 4:le=o.stateNode.containerInfo,Ve=!0;break e}o=o.return}if(le===null)throw Error(k(160));Hd(i,a,s),le=null,Ve=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){J(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Kd(t,e),t=t.sibling}function Kd(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Be(t,e),Qe(e),r&4){try{gr(3,e,e.return),_i(3,e)}catch(w){J(e,e.return,w)}try{gr(5,e,e.return)}catch(w){J(e,e.return,w)}}break;case 1:Be(t,e),Qe(e),r&512&&n!==null&&bn(n,n.return);break;case 5:if(Be(t,e),Qe(e),r&512&&n!==null&&bn(n,n.return),e.flags&32){var s=e.stateNode;try{kr(s,"")}catch(w){J(e,e.return,w)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&mc(s,i),Ta(o,a);var u=Ta(o,i);for(a=0;a<l.length;a+=2){var c=l[a],g=l[a+1];c==="style"?_c(s,g):c==="dangerouslySetInnerHTML"?yc(s,g):c==="children"?kr(s,g):xo(s,c,g,u)}switch(o){case"input":Ea(s,i);break;case"textarea":gc(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Rn(s,!!i.multiple,v,!1):m!==!!i.multiple&&(i.defaultValue!=null?Rn(s,!!i.multiple,i.defaultValue,!0):Rn(s,!!i.multiple,i.multiple?[]:"",!1))}s[Pr]=i}catch(w){J(e,e.return,w)}}break;case 6:if(Be(t,e),Qe(e),r&4){if(e.stateNode===null)throw Error(k(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){J(e,e.return,w)}}break;case 3:if(Be(t,e),Qe(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Tr(t.containerInfo)}catch(w){J(e,e.return,w)}break;case 4:Be(t,e),Qe(e);break;case 13:Be(t,e),Qe(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(rl=Y())),r&4&&gu(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(pe=(u=pe)||c,Be(t,e),pe=u):Be(t,e),Qe(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(T=e,c=e.child;c!==null;){for(g=T=c;T!==null;){switch(m=T,v=m.child,m.tag){case 0:case 11:case 14:case 15:gr(4,m,m.return);break;case 1:bn(m,m.return);var y=m.stateNode;if(typeof y.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(w){J(r,n,w)}}break;case 5:bn(m,m.return);break;case 22:if(m.memoizedState!==null){yu(g);continue}}v!==null?(v.return=m,T=v):yu(g)}c=c.sibling}e:for(c=null,g=e;;){if(g.tag===5){if(c===null){c=g;try{s=g.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=g.stateNode,l=g.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=wc("display",a))}catch(w){J(e,e.return,w)}}}else if(g.tag===6){if(c===null)try{g.stateNode.nodeValue=u?"":g.memoizedProps}catch(w){J(e,e.return,w)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===e)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break e;for(;g.sibling===null;){if(g.return===null||g.return===e)break e;c===g&&(c=null),g=g.return}c===g&&(c=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:Be(t,e),Qe(e),r&4&&gu(e);break;case 21:break;default:Be(t,e),Qe(e)}}function Qe(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(qd(n)){var r=n;break e}n=n.return}throw Error(k(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(kr(s,""),r.flags&=-33);var i=mu(e);no(e,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,o=mu(e);to(e,o,a);break;default:throw Error(k(161))}}catch(l){J(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Pp(e,t,n){T=e,Gd(e)}function Gd(e,t,n){for(var r=(e.mode&1)!==0;T!==null;){var s=T,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||ms;if(!a){var o=s.alternate,l=o!==null&&o.memoizedState!==null||pe;o=ms;var u=pe;if(ms=a,(pe=l)&&!u)for(T=s;T!==null;)a=T,l=a.child,a.tag===22&&a.memoizedState!==null?wu(s):l!==null?(l.return=a,T=l):wu(s);for(;i!==null;)T=i,Gd(i),i=i.sibling;T=s,ms=o,pe=u}vu(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,T=i):vu(e)}}function vu(e){for(;T!==null;){var t=T;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:pe||_i(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!pe)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Fe(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&tu(t,i,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}tu(t,a,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var g=c.dehydrated;g!==null&&Tr(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(k(163))}pe||t.flags&512&&eo(t)}catch(m){J(t,t.return,m)}}if(t===e){T=null;break}if(n=t.sibling,n!==null){n.return=t.return,T=n;break}T=t.return}}function yu(e){for(;T!==null;){var t=T;if(t===e){T=null;break}var n=t.sibling;if(n!==null){n.return=t.return,T=n;break}T=t.return}}function wu(e){for(;T!==null;){var t=T;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{_i(4,t)}catch(l){J(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){J(t,s,l)}}var i=t.return;try{eo(t)}catch(l){J(t,i,l)}break;case 5:var a=t.return;try{eo(t)}catch(l){J(t,a,l)}}}catch(l){J(t,t.return,l)}if(t===e){T=null;break}var o=t.sibling;if(o!==null){o.return=t.return,T=o;break}T=t.return}}var Ap=Math.ceil,si=dt.ReactCurrentDispatcher,tl=dt.ReactCurrentOwner,ze=dt.ReactCurrentBatchConfig,$=0,ie=null,Z=null,ue=0,Te=0,Tn=It(0),ne=0,$r=null,en=0,Ei=0,nl=0,vr=null,_e=null,rl=0,Mn=1/0,tt=null,ii=!1,ro=null,Nt=null,gs=!1,Et=null,ai=0,yr=0,so=null,zs=-1,$s=0;function ve(){return $&6?Y():zs!==-1?zs:zs=Y()}function Rt(e){return e.mode&1?$&2&&ue!==0?ue&-ue:mp.transition!==null?($s===0&&($s=Ac()),$s):(e=D,e!==0||(e=window.event,e=e===void 0?16:Dc(e.type)),e):1}function Ge(e,t,n,r){if(50<yr)throw yr=0,so=null,Error(k(185));Hr(e,n,r),(!($&2)||e!==ie)&&(e===ie&&(!($&2)&&(Ei|=n),ne===4&&yt(e,ue)),xe(e,r),n===1&&$===0&&!(t.mode&1)&&(Mn=Y()+500,vi&&jt()))}function xe(e,t){var n=e.callbackNode;mf(e,t);var r=Ws(e,e===ie?ue:0);if(r===0)n!==null&&Rl(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Rl(n),t===1)e.tag===0?pp(_u.bind(null,e)):sd(_u.bind(null,e)),cp(function(){!($&6)&&jt()}),n=null;else{switch(Ic(r)){case 1:n=Co;break;case 4:n=Oc;break;case 16:n=Fs;break;case 536870912:n=Pc;break;default:n=Fs}n=nh(n,Jd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Jd(e,t){if(zs=-1,$s=0,$&6)throw Error(k(327));var n=e.callbackNode;if(In()&&e.callbackNode!==n)return null;var r=Ws(e,e===ie?ue:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=oi(e,r);else{t=r;var s=$;$|=2;var i=Yd();(ie!==e||ue!==t)&&(tt=null,Mn=Y()+500,Jt(e,t));do try{Lp();break}catch(o){Qd(e,o)}while(!0);Fo(),si.current=i,$=s,Z!==null?t=0:(ie=null,ue=0,t=ne)}if(t!==0){if(t===2&&(s=Pa(e),s!==0&&(r=s,t=io(e,s))),t===1)throw n=$r,Jt(e,0),yt(e,r),xe(e,Y()),n;if(t===6)yt(e,r);else{if(s=e.current.alternate,!(r&30)&&!Ip(s)&&(t=oi(e,r),t===2&&(i=Pa(e),i!==0&&(r=i,t=io(e,i))),t===1))throw n=$r,Jt(e,0),yt(e,r),xe(e,Y()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(k(345));case 2:Bt(e,_e,tt);break;case 3:if(yt(e,r),(r&130023424)===r&&(t=rl+500-Y(),10<t)){if(Ws(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){ve(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Da(Bt.bind(null,e,_e,tt),t);break}Bt(e,_e,tt);break;case 4:if(yt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-Ke(r);i=1<<a,a=t[a],a>s&&(s=a),r&=~i}if(r=s,r=Y()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ap(r/1960))-r,10<r){e.timeoutHandle=Da(Bt.bind(null,e,_e,tt),r);break}Bt(e,_e,tt);break;case 5:Bt(e,_e,tt);break;default:throw Error(k(329))}}}return xe(e,Y()),e.callbackNode===n?Jd.bind(null,e):null}function io(e,t){var n=vr;return e.current.memoizedState.isDehydrated&&(Jt(e,t).flags|=256),e=oi(e,t),e!==2&&(t=_e,_e=n,t!==null&&ao(t)),e}function ao(e){_e===null?_e=e:_e.push.apply(_e,e)}function Ip(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Je(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function yt(e,t){for(t&=~nl,t&=~Ei,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ke(t),r=1<<n;e[n]=-1,t&=~r}}function _u(e){if($&6)throw Error(k(327));In();var t=Ws(e,0);if(!(t&1))return xe(e,Y()),null;var n=oi(e,t);if(e.tag!==0&&n===2){var r=Pa(e);r!==0&&(t=r,n=io(e,r))}if(n===1)throw n=$r,Jt(e,0),yt(e,t),xe(e,Y()),n;if(n===6)throw Error(k(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Bt(e,_e,tt),xe(e,Y()),null}function sl(e,t){var n=$;$|=1;try{return e(t)}finally{$=n,$===0&&(Mn=Y()+500,vi&&jt())}}function tn(e){Et!==null&&Et.tag===0&&!($&6)&&In();var t=$;$|=1;var n=ze.transition,r=D;try{if(ze.transition=null,D=1,e)return e()}finally{D=r,ze.transition=n,$=t,!($&6)&&jt()}}function il(){Te=Tn.current,W(Tn)}function Jt(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,up(n)),Z!==null)for(n=Z.return;n!==null;){var r=n;switch(Do(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Gs();break;case 3:Dn(),W(ke),W(me),Go();break;case 5:Ko(r);break;case 4:Dn();break;case 13:W(q);break;case 19:W(q);break;case 10:Wo(r.type._context);break;case 22:case 23:il()}n=n.return}if(ie=e,Z=e=Ct(e.current,null),ue=Te=t,ne=0,$r=null,nl=Ei=en=0,_e=vr=null,qt!==null){for(t=0;t<qt.length;t++)if(n=qt[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}qt=null}return e}function Qd(e,t){do{var n=Z;try{if(Fo(),Is.current=ri,ni){for(var r=H.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ni=!1}if(Zt=0,se=te=H=null,mr=!1,jr=0,tl.current=null,n===null||n.return===null){ne=1,$r=t,Z=null;break}e:{var i=e,a=n.return,o=n,l=t;if(t=ue,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,g=c.tag;if(!(c.mode&1)&&(g===0||g===11||g===15)){var m=c.alternate;m?(c.updateQueue=m.updateQueue,c.memoizedState=m.memoizedState,c.lanes=m.lanes):(c.updateQueue=null,c.memoizedState=null)}var v=ou(a);if(v!==null){v.flags&=-257,lu(v,a,o,i,t),v.mode&1&&au(i,u,t),t=v,l=u;var y=t.updateQueue;if(y===null){var w=new Set;w.add(l),t.updateQueue=w}else y.add(l);break e}else{if(!(t&1)){au(i,u,t),al();break e}l=Error(k(426))}}else if(V&&o.mode&1){var E=ou(a);if(E!==null){!(E.flags&65536)&&(E.flags|=256),lu(E,a,o,i,t),Bo(Bn(l,o));break e}}i=l=Bn(l,o),ne!==4&&(ne=2),vr===null?vr=[i]:vr.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var h=Id(i,l,t);eu(i,h);break e;case 1:o=l;var f=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Nt===null||!Nt.has(p)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=jd(i,o,t);eu(i,_);break e}}i=i.return}while(i!==null)}Zd(n)}catch(S){t=S,Z===n&&n!==null&&(Z=n=n.return);continue}break}while(!0)}function Yd(){var e=si.current;return si.current=ri,e===null?ri:e}function al(){(ne===0||ne===3||ne===2)&&(ne=4),ie===null||!(en&268435455)&&!(Ei&268435455)||yt(ie,ue)}function oi(e,t){var n=$;$|=2;var r=Yd();(ie!==e||ue!==t)&&(tt=null,Jt(e,t));do try{jp();break}catch(s){Qd(e,s)}while(!0);if(Fo(),$=n,si.current=r,Z!==null)throw Error(k(261));return ie=null,ue=0,ne}function jp(){for(;Z!==null;)Xd(Z)}function Lp(){for(;Z!==null&&!af();)Xd(Z)}function Xd(e){var t=th(e.alternate,e,Te);e.memoizedProps=e.pendingProps,t===null?Zd(e):Z=t,tl.current=null}function Zd(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Rp(n,t),n!==null){n.flags&=32767,Z=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ne=6,Z=null;return}}else if(n=Np(n,t,Te),n!==null){Z=n;return}if(t=t.sibling,t!==null){Z=t;return}Z=t=e}while(t!==null);ne===0&&(ne=5)}function Bt(e,t,n){var r=D,s=ze.transition;try{ze.transition=null,D=1,zp(e,t,n,r)}finally{ze.transition=s,D=r}return null}function zp(e,t,n,r){do In();while(Et!==null);if($&6)throw Error(k(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(k(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(gf(e,i),e===ie&&(Z=ie=null,ue=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||gs||(gs=!0,nh(Fs,function(){return In(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ze.transition,ze.transition=null;var a=D;D=1;var o=$;$|=4,tl.current=null,Op(e,n),Kd(n,e),np($a),Vs=!!za,$a=za=null,e.current=n,Pp(n),of(),$=o,D=a,ze.transition=i}else e.current=n;if(gs&&(gs=!1,Et=e,ai=s),i=e.pendingLanes,i===0&&(Nt=null),cf(n.stateNode),xe(e,Y()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ii)throw ii=!1,e=ro,ro=null,e;return ai&1&&e.tag!==0&&In(),i=e.pendingLanes,i&1?e===so?yr++:(yr=0,so=e):yr=0,jt(),null}function In(){if(Et!==null){var e=Ic(ai),t=ze.transition,n=D;try{if(ze.transition=null,D=16>e?16:e,Et===null)var r=!1;else{if(e=Et,Et=null,ai=0,$&6)throw Error(k(331));var s=$;for($|=4,T=e.current;T!==null;){var i=T,a=i.child;if(T.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(T=u;T!==null;){var c=T;switch(c.tag){case 0:case 11:case 15:gr(8,c,i)}var g=c.child;if(g!==null)g.return=c,T=g;else for(;T!==null;){c=T;var m=c.sibling,v=c.return;if(Vd(c),c===u){T=null;break}if(m!==null){m.return=v,T=m;break}T=v}}}var y=i.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var E=w.sibling;w.sibling=null,w=E}while(w!==null)}}T=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,T=a;else e:for(;T!==null;){if(i=T,i.flags&2048)switch(i.tag){case 0:case 11:case 15:gr(9,i,i.return)}var h=i.sibling;if(h!==null){h.return=i.return,T=h;break e}T=i.return}}var f=e.current;for(T=f;T!==null;){a=T;var p=a.child;if(a.subtreeFlags&2064&&p!==null)p.return=a,T=p;else e:for(a=f;T!==null;){if(o=T,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:_i(9,o)}}catch(S){J(o,o.return,S)}if(o===a){T=null;break e}var _=o.sibling;if(_!==null){_.return=o.return,T=_;break e}T=o.return}}if($=s,jt(),Ze&&typeof Ze.onPostCommitFiberRoot=="function")try{Ze.onPostCommitFiberRoot(hi,e)}catch{}r=!0}return r}finally{D=n,ze.transition=t}}return!1}function Eu(e,t,n){t=Bn(n,t),t=Id(e,t,1),e=Tt(e,t,1),t=ve(),e!==null&&(Hr(e,1,t),xe(e,t))}function J(e,t,n){if(e.tag===3)Eu(e,e,n);else for(;t!==null;){if(t.tag===3){Eu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Nt===null||!Nt.has(r))){e=Bn(n,e),e=jd(t,e,1),t=Tt(t,e,1),e=ve(),t!==null&&(Hr(t,1,e),xe(t,e));break}}t=t.return}}function $p(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ve(),e.pingedLanes|=e.suspendedLanes&n,ie===e&&(ue&n)===n&&(ne===4||ne===3&&(ue&130023424)===ue&&500>Y()-rl?Jt(e,0):nl|=n),xe(e,t)}function eh(e,t){t===0&&(e.mode&1?(t=as,as<<=1,!(as&130023424)&&(as=4194304)):t=1);var n=ve();e=ut(e,t),e!==null&&(Hr(e,t,n),xe(e,n))}function Up(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),eh(e,n)}function Dp(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(k(314))}r!==null&&r.delete(t),eh(e,n)}var th;th=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ke.current)Ee=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ee=!1,Tp(e,t,n);Ee=!!(e.flags&131072)}else Ee=!1,V&&t.flags&1048576&&id(t,Ys,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ls(e,t),e=t.pendingProps;var s=zn(t,me.current);An(t,n),s=Qo(null,t,r,e,s,n);var i=Yo();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Se(r)?(i=!0,Js(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,qo(t),s.updater=wi,t.stateNode=s,s._reactInternals=t,Ha(t,r,e,n),t=Ja(null,t,r,!0,i,n)):(t.tag=0,V&&i&&Uo(t),ge(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ls(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Mp(r),e=Fe(r,e),s){case 0:t=Ga(null,t,r,e,n);break e;case 1:t=du(null,t,r,e,n);break e;case 11:t=uu(null,t,r,e,n);break e;case 14:t=cu(null,t,r,Fe(r.type,e),n);break e}throw Error(k(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Fe(r,s),Ga(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Fe(r,s),du(e,t,r,s,n);case 3:e:{if(Ud(t),e===null)throw Error(k(387));r=t.pendingProps,i=t.memoizedState,s=i.element,dd(e,t),ei(t,r,null,n);var a=t.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Bn(Error(k(423)),t),t=hu(e,t,r,n,s);break e}else if(r!==s){s=Bn(Error(k(424)),t),t=hu(e,t,r,n,s);break e}else for(Re=bt(t.stateNode.containerInfo.firstChild),Ce=t,V=!0,He=null,n=ud(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if($n(),r===s){t=ct(e,t,n);break e}ge(e,t,r,n)}t=t.child}return t;case 5:return hd(t),e===null&&Wa(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,Ua(r,s)?a=null:i!==null&&Ua(r,i)&&(t.flags|=32),$d(e,t),ge(e,t,a,n),t.child;case 6:return e===null&&Wa(t),null;case 13:return Dd(e,t,n);case 4:return Ho(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Un(t,null,r,n):ge(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Fe(r,s),uu(e,t,r,s,n);case 7:return ge(e,t,t.pendingProps,n),t.child;case 8:return ge(e,t,t.pendingProps.children,n),t.child;case 12:return ge(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,M(Xs,r._currentValue),r._currentValue=a,i!==null)if(Je(i.value,a)){if(i.children===s.children&&!ke.current){t=ct(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=at(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Va(i.return,n,t),o.lanes|=n;break}l=l.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(k(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),Va(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}ge(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,An(t,n),s=$e(s),r=r(s),t.flags|=1,ge(e,t,r,n),t.child;case 14:return r=t.type,s=Fe(r,t.pendingProps),s=Fe(r.type,s),cu(e,t,r,s,n);case 15:return Ld(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Fe(r,s),Ls(e,t),t.tag=1,Se(r)?(e=!0,Js(t)):e=!1,An(t,n),Ad(t,r,s),Ha(t,r,s,n),Ja(null,t,r,!0,e,n);case 19:return Bd(e,t,n);case 22:return zd(e,t,n)}throw Error(k(156,t.tag))};function nh(e,t){return Cc(e,t)}function Bp(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Le(e,t,n,r){return new Bp(e,t,n,r)}function ol(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Mp(e){if(typeof e=="function")return ol(e)?1:0;if(e!=null){if(e=e.$$typeof,e===To)return 11;if(e===No)return 14}return 2}function Ct(e,t){var n=e.alternate;return n===null?(n=Le(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Us(e,t,n,r,s,i){var a=2;if(r=e,typeof e=="function")ol(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case gn:return Qt(n.children,s,i,t);case bo:a=8,s|=8;break;case ga:return e=Le(12,n,t,s|2),e.elementType=ga,e.lanes=i,e;case va:return e=Le(13,n,t,s),e.elementType=va,e.lanes=i,e;case ya:return e=Le(19,n,t,s),e.elementType=ya,e.lanes=i,e;case hc:return ki(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case cc:a=10;break e;case dc:a=9;break e;case To:a=11;break e;case No:a=14;break e;case pt:a=16,r=null;break e}throw Error(k(130,e==null?e:typeof e,""))}return t=Le(a,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Qt(e,t,n,r){return e=Le(7,e,r,t),e.lanes=n,e}function ki(e,t,n,r){return e=Le(22,e,r,t),e.elementType=hc,e.lanes=n,e.stateNode={isHidden:!1},e}function sa(e,t,n){return e=Le(6,e,null,t),e.lanes=n,e}function ia(e,t,n){return t=Le(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fp(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Di(0),this.expirationTimes=Di(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Di(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ll(e,t,n,r,s,i,a,o,l){return e=new Fp(e,t,n,o,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Le(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},qo(i),e}function Wp(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:mn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function rh(e){if(!e)return Pt;e=e._reactInternals;e:{if(rn(e)!==e||e.tag!==1)throw Error(k(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Se(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(k(171))}if(e.tag===1){var n=e.type;if(Se(n))return rd(e,n,t)}return t}function sh(e,t,n,r,s,i,a,o,l){return e=ll(n,r,!0,e,s,i,a,o,l),e.context=rh(null),n=e.current,r=ve(),s=Rt(n),i=at(r,s),i.callback=t??null,Tt(n,i,s),e.current.lanes=s,Hr(e,s,r),xe(e,r),e}function Si(e,t,n,r){var s=t.current,i=ve(),a=Rt(s);return n=rh(n),t.context===null?t.context=n:t.pendingContext=n,t=at(i,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Tt(s,t,a),e!==null&&(Ge(e,s,a,i),As(e,s,a)),a}function li(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ku(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ul(e,t){ku(e,t),(e=e.alternate)&&ku(e,t)}function Vp(){return null}var ih=typeof reportError=="function"?reportError:function(e){console.error(e)};function cl(e){this._internalRoot=e}xi.prototype.render=cl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(k(409));Si(e,t,null,null)};xi.prototype.unmount=cl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;tn(function(){Si(null,e,null,null)}),t[lt]=null}};function xi(e){this._internalRoot=e}xi.prototype.unstable_scheduleHydration=function(e){if(e){var t=zc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<vt.length&&t!==0&&t<vt[n].priority;n++);vt.splice(n,0,e),n===0&&Uc(e)}};function dl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function bi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Su(){}function qp(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=li(a);i.call(u)}}var a=sh(t,r,e,0,null,!1,!1,"",Su);return e._reactRootContainer=a,e[lt]=a.current,Cr(e.nodeType===8?e.parentNode:e),tn(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var o=r;r=function(){var u=li(l);o.call(u)}}var l=ll(e,0,!1,null,null,!1,!1,"",Su);return e._reactRootContainer=l,e[lt]=l.current,Cr(e.nodeType===8?e.parentNode:e),tn(function(){Si(t,l,n,r)}),l}function Ti(e,t,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var l=li(a);o.call(l)}}Si(t,a,e,s)}else a=qp(n,t,e,s,r);return li(a)}jc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ar(t.pendingLanes);n!==0&&(Oo(t,n|1),xe(t,Y()),!($&6)&&(Mn=Y()+500,jt()))}break;case 13:tn(function(){var r=ut(e,1);if(r!==null){var s=ve();Ge(r,e,1,s)}}),ul(e,1)}};Po=function(e){if(e.tag===13){var t=ut(e,134217728);if(t!==null){var n=ve();Ge(t,e,134217728,n)}ul(e,134217728)}};Lc=function(e){if(e.tag===13){var t=Rt(e),n=ut(e,t);if(n!==null){var r=ve();Ge(n,e,t,r)}ul(e,t)}};zc=function(){return D};$c=function(e,t){var n=D;try{return D=e,t()}finally{D=n}};Ra=function(e,t,n){switch(t){case"input":if(Ea(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=gi(r);if(!s)throw Error(k(90));pc(r),Ea(r,s)}}}break;case"textarea":gc(e,n);break;case"select":t=n.value,t!=null&&Rn(e,!!n.multiple,t,!1)}};Sc=sl;xc=tn;var Hp={usingClientEntryPoint:!1,Events:[Gr,_n,gi,Ec,kc,sl]},nr={findFiberByHostInstance:Vt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Kp={bundleType:nr.bundleType,version:nr.version,rendererPackageName:nr.rendererPackageName,rendererConfig:nr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:dt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Nc(e),e===null?null:e.stateNode},findFiberByHostInstance:nr.findFiberByHostInstance||Vp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vs.isDisabled&&vs.supportsFiber)try{hi=vs.inject(Kp),Ze=vs}catch{}}Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hp;Pe.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dl(t))throw Error(k(200));return Wp(e,t,null,n)};Pe.createRoot=function(e,t){if(!dl(e))throw Error(k(299));var n=!1,r="",s=ih;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=ll(e,1,!1,null,null,n,!1,r,s),e[lt]=t.current,Cr(e.nodeType===8?e.parentNode:e),new cl(t)};Pe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(k(188)):(e=Object.keys(e).join(","),Error(k(268,e)));return e=Nc(t),e=e===null?null:e.stateNode,e};Pe.flushSync=function(e){return tn(e)};Pe.hydrate=function(e,t,n){if(!bi(t))throw Error(k(200));return Ti(null,e,t,!0,n)};Pe.hydrateRoot=function(e,t,n){if(!dl(e))throw Error(k(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=ih;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=sh(t,null,e,1,n??null,s,!1,i,a),e[lt]=t.current,Cr(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new xi(t)};Pe.render=function(e,t,n){if(!bi(t))throw Error(k(200));return Ti(null,e,t,!1,n)};Pe.unmountComponentAtNode=function(e){if(!bi(e))throw Error(k(40));return e._reactRootContainer?(tn(function(){Ti(null,null,e,!1,function(){e._reactRootContainer=null,e[lt]=null})}),!0):!1};Pe.unstable_batchedUpdates=sl;Pe.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!bi(n))throw Error(k(200));if(e==null||e._reactInternals===void 0)throw Error(k(38));return Ti(e,t,n,!1,r)};Pe.version="18.3.1-next-f1338f8080-20240426";function ah(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ah)}catch(e){console.error(e)}}ah(),ac.exports=Pe;var Gp=ac.exports,xu=Gp;pa.createRoot=xu.createRoot,pa.hydrateRoot=xu.hydrateRoot;function Ni(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function Jp(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(c){try{u(r.next(c))}catch(g){a(g)}}function l(c){try{u(r.throw(c))}catch(g){a(g)}}function u(c){c.done?i(c.value):s(c.value).then(o,l)}u((r=r.apply(e,t||[])).next())})}const Qp=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class hl extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Yp extends hl{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class bu extends hl{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Tu extends hl{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var oo;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(oo||(oo={}));class Xp{constructor(t,{headers:n={},customFetch:r,region:s=oo.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=Qp(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Jp(this,arguments,void 0,function*(n,r={}){var s;let i,a;try{const{headers:o,method:l,body:u,signal:c,timeout:g}=r;let m={},{region:v}=r;v||(v=this.region);const y=new URL(`${this.url}/${n}`);v&&v!=="any"&&(m["x-region"]=v,y.searchParams.set("forceFunctionRegion",v));let w;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",w=u):typeof u=="string"?(m["Content-Type"]="text/plain",w=u):typeof FormData<"u"&&u instanceof FormData?w=u:(m["Content-Type"]="application/json",w=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?w=JSON.stringify(u):w=u;let E=c;g&&(a=new AbortController,i=setTimeout(()=>a.abort(),g),c?(E=a.signal,c.addEventListener("abort",()=>a.abort())):E=a.signal);const h=yield this.fetch(y.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),o),body:w,signal:E}).catch(S=>{throw new Yp(S)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new bu(h);if(!h.ok)throw new Tu(h);let p=((s=h.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return p==="application/json"?_=yield h.json():p==="application/octet-stream"||p==="application/pdf"?_=yield h.blob():p==="text/event-stream"?_=h:p==="multipart/form-data"?_=yield h.formData():_=yield h.text(),{data:_,error:null,response:h}}catch(o){return{data:null,error:o,response:o instanceof Tu||o instanceof bu?o.context:void 0}}finally{i&&clearTimeout(i)}})}}var Zp=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},em=class{constructor(e){var t,n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,this.urlLengthLimit=(r=e.urlLengthLimit)!==null&&r!==void 0?r:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let a=null,o=null,l=null,u=i.status,c=i.statusText;if(i.ok){var g,m;if(n.method!=="HEAD"){var v;const h=await i.text();h===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((v=n.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?o=h:o=JSON.parse(h))}const w=(g=n.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),E=(m=i.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");w&&E&&E.length>1&&(l=parseInt(E[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(o)&&(o.length>1?(a={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,l=null,u=406,c="Not Acceptable"):o.length===1?o=o[0]:o=null)}else{var y;const w=await i.text();try{a=JSON.parse(w),Array.isArray(a)&&i.status===404&&(o=[],a=null,u=200,c="OK")}catch{i.status===404&&w===""?(u=204,c="No Content"):a={message:w}}if(a&&n.isMaybeSingle&&(!(a==null||(y=a.details)===null||y===void 0)&&y.includes("0 rows"))&&(a=null,u=200,c="OK"),a&&n.shouldThrowOnError)throw new Zp(a)}return{error:a,data:o,count:l,status:u,statusText:c}});return this.shouldThrowOnError||(s=s.catch(i=>{var a;let o="",l="",u="";const c=i==null?void 0:i.cause;if(c){var g,m,v,y;const h=(g=c==null?void 0:c.message)!==null&&g!==void 0?g:"",f=(m=c==null?void 0:c.code)!==null&&m!==void 0?m:"";o=`${(v=i==null?void 0:i.name)!==null&&v!==void 0?v:"FetchError"}: ${i==null?void 0:i.message}`,o+=`

Caused by: ${(y=c==null?void 0:c.name)!==null&&y!==void 0?y:"Error"}: ${h}`,f&&(o+=` (${f})`),c!=null&&c.stack&&(o+=`
${c.stack}`)}else{var w;o=(w=i==null?void 0:i.stack)!==null&&w!==void 0?w:""}const E=this.url.toString().length;return(i==null?void 0:i.name)==="AbortError"||(i==null?void 0:i.code)==="ABORT_ERR"?(u="",l="Request was aborted (timeout or manual cancellation)",E>this.urlLengthLimit&&(l+=`. Note: Your request URL is ${E} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((c==null?void 0:c.name)==="HeadersOverflowError"||(c==null?void 0:c.code)==="UND_ERR_HEADERS_OVERFLOW")&&(u="",l="HTTP headers exceeded server limits (typically 16KB)",E>this.urlLengthLimit&&(l+=`. Your request URL is ${E} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:o,hint:l,code:u},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},tm=class extends em{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:s=r}={}){const i=s?`${s}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"offset":`${r}.offset`,i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:i="text"}={}){var a;const o=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${o};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Nu=new RegExp("[,()]");var hn=class extends tm{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&Nu.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&Nu.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let s="";r==="plain"?s="pl":r==="phrase"?s="ph":r==="websearch"&&(s="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},nm=class{constructor(e,{headers:t={},schema:n,fetch:r,urlLengthLimit:s=8e3}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r,this.urlLengthLimit=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:r}=t??{},s=n?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:o,headers:l}=this.cloneRequestState();return o.searchParams.set("select",a),r&&l.append("Prefer",`count=${r}`),new hn({method:s,url:o,headers:l,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const s="POST",{url:i,headers:a}=this.cloneRequestState();if(t&&a.append("Prefer",`count=${t}`),n||a.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(o.length>0){const l=[...new Set(o)].map(u=>`"${u}"`);i.searchParams.set("columns",l.join(","))}}return new hn({method:s,url:i,headers:a,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}={}){var i;const a="POST",{url:o,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&o.searchParams.set("on_conflict",t),r&&l.append("Prefer",`count=${r}`),s||l.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((c,g)=>c.concat(Object.keys(g)),[]);if(u.length>0){const c=[...new Set(u)].map(g=>`"${g}"`);o.searchParams.set("columns",c.join(","))}}return new hn({method:a,url:o,headers:l,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var n;const r="PATCH",{url:s,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new hn({method:r,url:s,headers:i,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const n="DELETE",{url:r,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new hn({method:n,url:r,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function Ur(e){"@babel/helpers - typeof";return Ur=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ur(e)}function rm(e,t){if(Ur(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ur(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sm(e){var t=rm(e,"string");return Ur(t)=="symbol"?t:t+""}function im(e,t,n){return(t=sm(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ru(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ys(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ru(Object(n),!0).forEach(function(r){im(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ru(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var am=class oh{constructor(t,{headers:n={},schema:r,fetch:s,timeout:i,urlLengthLimit:a=8e3}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.urlLengthLimit=a;const o=s??globalThis.fetch;i!==void 0&&i>0?this.fetch=(l,u)=>{const c=new AbortController,g=setTimeout(()=>c.abort(),i),m=u==null?void 0:u.signal;if(m){if(m.aborted)return clearTimeout(g),o(l,u);const v=()=>{clearTimeout(g),c.abort()};return m.addEventListener("abort",v,{once:!0}),o(l,ys(ys({},u),{},{signal:c.signal})).finally(()=>{clearTimeout(g),m.removeEventListener("abort",v)})}return o(l,ys(ys({},u),{},{signal:c.signal})).finally(()=>clearTimeout(g))}:this.fetch=o}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new nm(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new oh(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){var a;let o;const l=new URL(`${this.url}/rpc/${t}`);let u;const c=v=>v!==null&&typeof v=="object"&&(!Array.isArray(v)||v.some(c)),g=r&&Object.values(n).some(c);g?(o="POST",u=n):r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([v,y])=>y!==void 0).map(([v,y])=>[v,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([v,y])=>{l.searchParams.append(v,y)})):(o="POST",u=n);const m=new Headers(this.headers);return g?m.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&m.set("Prefer",`count=${i}`),new hn({method:o,url:l,headers:m,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}};class om{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const s=r.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const lm="2.96.0",um=`realtime-js/${lm}`,cm="1.0.0",lh="2.0.0",Cu=lh,lo=1e4,dm=1e3,hm=100;var gt;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(gt||(gt={}));var ee;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ee||(ee={}));var qe;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(qe||(qe={}));var uo;(function(e){e.websocket="websocket"})(uo||(uo={}));var Ft;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ft||(Ft={}));class fm{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},a=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(t,n,r){var s,i;const a=t.topic,o=(s=t.ref)!==null&&s!==void 0?s:"",l=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,c=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},g=Object.keys(c).length===0?"":JSON.stringify(c);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`metadata length ${g.length} exceeds maximum of 255`);const m=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+o.length+a.length+u.length+g.length,v=new ArrayBuffer(this.HEADER_LENGTH+m);let y=new DataView(v),w=0;y.setUint8(w++,this.KINDS.userBroadcastPush),y.setUint8(w++,l.length),y.setUint8(w++,o.length),y.setUint8(w++,a.length),y.setUint8(w++,u.length),y.setUint8(w++,g.length),y.setUint8(w++,n),Array.from(l,h=>y.setUint8(w++,h.charCodeAt(0))),Array.from(o,h=>y.setUint8(w++,h.charCodeAt(0))),Array.from(a,h=>y.setUint8(w++,h.charCodeAt(0))),Array.from(u,h=>y.setUint8(w++,h.charCodeAt(0))),Array.from(g,h=>y.setUint8(w++,h.charCodeAt(0)));var E=new Uint8Array(v.byteLength+r.byteLength);return E.set(new Uint8Array(v),0),E.set(new Uint8Array(r),v.byteLength),E.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[s,i,a,o,l]=r;return n({join_ref:s,ref:i,topic:a,event:o,payload:l})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,s)}}_decodeUserBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2),a=n.getUint8(3),o=n.getUint8(4);let l=this.HEADER_LENGTH+4;const u=r.decode(t.slice(l,l+s));l=l+s;const c=r.decode(t.slice(l,l+i));l=l+i;const g=r.decode(t.slice(l,l+a));l=l+a;const m=t.slice(l,t.byteLength),v=o===this.JSON_ENCODING?JSON.parse(r.decode(m)):m,y={type:this.BROADCAST_EVENT,event:c,payload:v};return a>0&&(y.meta=JSON.parse(g)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:y}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class uh{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var B;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(B||(B={}));const Ou=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((i,a)=>(i[a]=pm(a,e,t,s),i),{}):{}},pm=(e,t,n,r)=>{const s=t.find(o=>o.name===e),i=s==null?void 0:s.type,a=n[e];return i&&!r.includes(i)?ch(i,a):co(a)},ch=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return ym(t,n)}switch(e){case B.bool:return mm(t);case B.float4:case B.float8:case B.int2:case B.int4:case B.int8:case B.numeric:case B.oid:return gm(t);case B.json:case B.jsonb:return vm(t);case B.timestamp:return wm(t);case B.abstime:case B.date:case B.daterange:case B.int4range:case B.int8range:case B.money:case B.reltime:case B.text:case B.time:case B.timestamptz:case B.timetz:case B.tsrange:case B.tstzrange:return co(t);default:return co(t)}},co=e=>e,mm=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},gm=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},vm=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},ym=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const a=e.slice(1,n);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>ch(t,o))}return e},wm=e=>typeof e=="string"?e.replace(" ","T"):e,dh=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class aa{constructor(t,n,r={},s=lo){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Pu;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Pu||(Pu={}));class wr{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=wr.syncState(this.state,s,i,a),this.pendingDiffs.forEach(l=>{this.state=wr.syncDiff(this.state,l,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=wr.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),a=this.transformState(n),o={},l={};return this.map(i,(u,c)=>{a[u]||(l[u]=c)}),this.map(a,(u,c)=>{const g=i[u];if(g){const m=c.map(E=>E.presence_ref),v=g.map(E=>E.presence_ref),y=c.filter(E=>v.indexOf(E.presence_ref)<0),w=g.filter(E=>m.indexOf(E.presence_ref)<0);y.length>0&&(o[u]=y),w.length>0&&(l[u]=w)}else o[u]=c}),this.syncDiff(i,{joins:o,leaves:l},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(o,l)=>{var u;const c=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(l),c.length>0){const g=t[o].map(v=>v.presence_ref),m=c.filter(v=>g.indexOf(v.presence_ref)<0);t[o].unshift(...m)}r(o,c,l)}),this.map(a,(o,l)=>{let u=t[o];if(!u)return;const c=l.map(g=>g.presence_ref);u=u.filter(g=>c.indexOf(g.presence_ref)<0),t[o]=u,s(o,u,l),u.length===0&&delete t[o]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Au;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Au||(Au={}));var _r;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(_r||(_r={}));var nt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(nt||(nt={}));class Nn{constructor(t,n={config:{}},r){var s,i;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=ee.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new aa(this,qe.join,this.params,this.timeout),this.rejoinTimer=new uh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ee.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ee.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ee.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ee.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ee.errored,this.rejoinTimer.scheduleTimeout())}),this._on(qe.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new wr(this),this.broadcastEndpointURL=dh(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ee.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(v=>v.filter))!==null&&s!==void 0?s:[],c=!!this.bindings[_r.PRESENCE]&&this.bindings[_r.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,g={},m={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(v=>t==null?void 0:t(nt.CHANNEL_ERROR,v)),this._onClose(()=>t==null?void 0:t(nt.CLOSED)),this.updateJoinPayload(Object.assign({config:m},g)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:v})=>{var y;if(this.socket._isManualToken()||this.socket.setAuth(),v===void 0){t==null||t(nt.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,E=(y=w==null?void 0:w.length)!==null&&y!==void 0?y:0,h=[];for(let f=0;f<E;f++){const p=w[f],{filter:{event:_,schema:S,table:x,filter:b}}=p,R=v&&v[f];if(R&&R.event===_&&Nn.isFilterValueEqual(R.schema,S)&&Nn.isFilterValueEqual(R.table,x)&&Nn.isFilterValueEqual(R.filter,b))h.push(Object.assign(Object.assign({},p),{id:R.id}));else{this.unsubscribe(),this.state=ee.errored,t==null||t(nt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=h,t&&t(nt.SUBSCRIBED);return}}).receive("error",v=>{this.state=ee.errored,t==null||t(nt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(nt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===ee.joined&&t===_r.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const u=await o.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=t,o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,l;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ee.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(qe.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new aa(this,qe.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ee.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),a=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),a}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new aa(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>hm){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const a=t.toLocaleLowerCase(),{close:o,error:l,leave:u,join:c}=qe;if(r&&[o,l,u,c].indexOf(a)>=0&&r!==this._joinRef())return;let m=this._onMessage(a,n,r);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var y,w,E;return((y=v.filter)===null||y===void 0?void 0:y.event)==="*"||((E=(w=v.filter)===null||w===void 0?void 0:w.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===a}).map(v=>v.callback(m,r)):(i=this.bindings[a])===null||i===void 0||i.filter(v=>{var y,w,E,h,f,p;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in v){const _=v.id,S=(y=v.filter)===null||y===void 0?void 0:y.event;return _&&((w=n.ids)===null||w===void 0?void 0:w.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((E=n.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const _=(f=(h=v==null?void 0:v.filter)===null||h===void 0?void 0:h.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return _==="*"||_===((p=n==null?void 0:n.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===a}).map(v=>{if(typeof m=="object"&&"ids"in m){const y=m.data,{schema:w,table:E,commit_timestamp:h,type:f,errors:p}=y;m=Object.assign(Object.assign({},{schema:w,table:E,commit_timestamp:h,eventType:f,new:{},old:{},errors:p}),this._getPayloadRecords(y))}v.callback(m,r)})}_isClosed(){return this.state===ee.closed}_isJoined(){return this.state===ee.joined}_isJoining(){return this.state===ee.joining}_isLeaving(){return this.state===ee.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Nn.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(qe.close,{},t)}_onError(t){this._on(qe.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ee.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Ou(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Ou(t.columns,t.old_record)),n}}const oa=()=>{},ws={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},_m=[1e3,2e3,5e3,1e4],Em=1e4,km=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Sm{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=lo,this.transport=null,this.heartbeatIntervalMs=ws.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=oa,this.ref=0,this.reconnectTimer=null,this.vsn=Cu,this.logger=oa,this.conn=null,this.sendBuffer=[],this.serializer=new fm,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${uo.websocket}`,this.httpEndpoint=dh(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=om.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case gt.connecting:return Ft.Connecting;case gt.open:return Ft.Open;case gt.closing:return Ft.Closing;default:return Ft.Closed}}isConnected(){return this.connectionState()===Ft.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new Nn(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:s,ref:i}=t,a=()=>{this.encode(t,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(dm,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},ws.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",u)}catch(c){this.log("error","error in heartbeat callback",c)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:s,payload:i,ref:a}=n,o=a?`(${a})`:"",l=i.status||"";this.log("receive",`${l} ${r} ${s} ${o}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===gt.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===gt.open||this.conn.readyState===gt.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(qe.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([km],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const i={access_token:n,version:um};n&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(qe.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new uh(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ws.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,i,a,o,l,u,c,g,m,v;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:lo,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:ws.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:oa,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:Cu,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:y=>_m[y-1]||Em,this.vsn){case cm:this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(y,w)=>w(JSON.stringify(y)),this.decode=(g=t==null?void 0:t.decode)!==null&&g!==void 0?g:(y,w)=>w(JSON.parse(y));break;case lh:this.encode=(m=t==null?void 0:t.encode)!==null&&m!==void 0?m:this.serializer.encode.bind(this.serializer),this.decode=(v=t==null?void 0:t.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Dr=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function xm(e,t,n){const r=new URL(t,e);if(n)for(const[s,i]of Object.entries(n))i!==void 0&&r.searchParams.set(s,i);return r.toString()}async function bm(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function Tm(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:s,body:i,headers:a}){const o=xm(e.baseUrl,r,s),l=await bm(e.auth),u=await t(o,{method:n,headers:{...i?{"Content-Type":"application/json"}:{},...l,...a},body:i?JSON.stringify(i):void 0}),c=await u.text(),g=(u.headers.get("content-type")||"").includes("application/json"),m=g&&c?JSON.parse(c):c;if(!u.ok){const v=g?m:void 0,y=v==null?void 0:v.error;throw new Dr((y==null?void 0:y.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:y==null?void 0:y.type,icebergCode:y==null?void 0:y.code,details:v})}return{status:u.status,headers:u.headers,data:m}}}}function _s(e){return e.join("")}var Nm=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:_s(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${_s(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${_s(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${_s(e.namespace)}`}),!0}catch(t){if(t instanceof Dr&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof Dr&&n.status===409)return;throw n}}};function an(e){return e.join("")}var Rm=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${an(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${an(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${an(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${an(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${an(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${an(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof Dr&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof Dr&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},Cm=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=Tm({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new Nm(this.client,t),this.tableOps=new Rm(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Ri=class extends Error{constructor(e,t="storage",n,r){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=r}};function Ci(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Es=class extends Ri{constructor(e,t,n,r="storage"){super(e,r,t,n),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},hh=class extends Ri{constructor(e,t,n="storage"){super(e,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const Om=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Pm=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},ho=e=>{if(Array.isArray(e))return e.map(n=>ho(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=ho(r)}),t},Am=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Br(e){"@babel/helpers - typeof";return Br=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Br(e)}function Im(e,t){if(Br(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Br(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jm(e){var t=Im(e,"string");return Br(t)=="symbol"?t:t+""}function Lm(e,t,n){return(t=jm(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Iu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Iu(Object(n),!0).forEach(function(r){Lm(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Iu(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const ju=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},zm=async(e,t,n,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const s=e,i=s.status||500;if(typeof s.json=="function")s.json().then(a=>{const o=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||i+"";t(new Es(ju(a),i,o,r))}).catch(()=>{if(r==="vectors"){const a=i+"";t(new Es(s.statusText||`HTTP ${i} error`,i,a,r))}else{const a=i+"";t(new Es(s.statusText||`HTTP ${i} error`,i,a,r))}});else{const a=i+"";t(new Es(s.statusText||`HTTP ${i} error`,i,a,r))}}else t(new hh(ju(e),e,r))},$m=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!r?O(O({},s),n):(Pm(r)?(s.headers=O({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),O(O({},s),n))};async function rr(e,t,n,r,s,i,a){return new Promise((o,l)=>{e(n,$m(t,r,s,i)).then(u=>{if(!u.ok)throw u;if(r!=null&&r.noResolveJson)return u;if(a==="vectors"){const c=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!c||!c.includes("application/json"))return{}}return u.json()}).then(u=>o(u)).catch(u=>zm(u,l,r,a))})}function fh(e="storage"){return{get:async(t,n,r,s)=>rr(t,"GET",n,r,s,void 0,e),post:async(t,n,r,s,i)=>rr(t,"POST",n,s,i,r,e),put:async(t,n,r,s,i)=>rr(t,"PUT",n,s,i,r,e),head:async(t,n,r,s)=>rr(t,"HEAD",n,O(O({},r),{},{noResolveJson:!0}),s,void 0,e),remove:async(t,n,r,s,i)=>rr(t,"DELETE",n,s,i,r,e)}}const Um=fh("storage"),{get:Mr,post:We,put:fo,head:Dm,remove:fl}=Um,Ne=fh("vectors");var Hn=class{constructor(e,t={},n,r="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=Om(n),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=O(O({},this.headers),{},{[e]:t}),this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ci(n))return{data:null,error:n};throw n}}},Bm=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ci(t))return{data:null,error:t};throw t}}};let ph;ph=Symbol.toStringTag;var Mm=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[ph]="BlobDownloadBuilder",this.promise=null}asStream(){return new Bm(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ci(t))return{data:null,error:t};throw t}}};const Fm={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Lu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Wm=class extends Hn{constructor(e,t={},n,r){super(e,t,r,"storage"),this.bucketId=n}async uploadOrUpdate(e,t,n,r){var s=this;return s.handleOperation(async()=>{let i;const a=O(O({},Lu),r);let o=O(O({},s.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",s.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),l&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(l))):(i=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=s.toBase64(s.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),r!=null&&r.headers&&(o=O(O({},o),r.headers));const u=s._removeEmptyFolders(t),c=s._getFinalPath(u),g=await(e=="PUT"?fo:We)(s.fetch,`${s.url}/object/${c}`,i,O({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{path:u,id:g.Id,fullPath:g.Key}})}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var s=this;const i=s._removeEmptyFolders(e),a=s._getFinalPath(i),o=new URL(s.url+`/object/upload/sign/${a}`);return o.searchParams.set("token",t),s.handleOperation(async()=>{let l;const u=O({upsert:Lu.upsert},r),c=O(O({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType),{path:i,fullPath:(await fo(s.fetch,o.toString(),l,{headers:c})).Key}})}async createSignedUploadUrl(e,t){var n=this;return n.handleOperation(async()=>{let r=n._getFinalPath(e);const s=O({},n.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await We(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:s}),a=new URL(n.url+i.url),o=a.searchParams.get("token");if(!o)throw new Ri("No token returned by API");return{signedUrl:a.toString(),path:e,token:o}})}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;return r.handleOperation(async()=>await We(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}))}async copy(e,t,n){var r=this;return r.handleOperation(async()=>({path:(await We(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(e,t,n){var r=this;return r.handleOperation(async()=>{let s=r._getFinalPath(e),i=await We(r.fetch,`${r.url}/object/sign/${s}`,O({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${r.url}${i.signedURL}${a}`)}})}async createSignedUrls(e,t,n){var r=this;return r.handleOperation(async()=>{const s=await We(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s.map(a=>O(O({},a),{},{signedUrl:a.signedURL?encodeURI(`${r.url}${a.signedURL}${i}`):null}))})}download(e,t,n){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),i=s?`?${s}`:"",a=this._getFinalPath(e),o=()=>Mr(this.fetch,`${this.url}/${r}/${a}${i}`,{headers:this.headers,noResolveJson:!0},n);return new Mm(o,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);return t.handleOperation(async()=>ho(await Mr(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})))}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await Dm(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ci(r)&&r instanceof hh){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&r.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});a!==""&&r.push(a);let o=r.join("&");return o!==""&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${o}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await fl(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,n){var r=this;return r.handleOperation(async()=>{const s=O(O(O({},Fm),t),{},{prefix:e||""});return await We(r.fetch,`${r.url}/object/list/${r.bucketId}`,s,{headers:r.headers},n)})}async listV2(e,t){var n=this;return n.handleOperation(async()=>{const r=O({},e);return await We(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const Vm="2.96.0",Qr={"X-Client-Info":`storage-js/${Vm}`};var qm=class extends Hn{constructor(e,t={},n,r){const s=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const i=s.href.replace(/\/$/,""),a=O(O({},Qr),t);super(i,a,n,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=t.listBucketOptionsToQueryString(e);return await Mr(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Mr(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var n=this;return n.handleOperation(async()=>await We(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async updateBucket(e,t){var n=this;return n.handleOperation(async()=>await fo(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await We(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await fl(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},Hm=class extends Hn{constructor(e,t={},n){const r=e.replace(/\/$/,""),s=O(O({},Qr),t);super(r,s,n,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await We(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),s=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return await Mr(t.fetch,s,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await fl(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!Am(e))throw new Ri("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new Cm({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(s,i){const a=s[i];return typeof a!="function"?a:async(...o)=>{try{return{data:await a.apply(s,o),error:null}}catch(l){if(r)throw l;return{data:null,error:l}}}}})}},Km=class extends Hn{constructor(e,t={},n){const r=e.replace(/\/$/,""),s=O(O({},Qr),{},{"Content-Type":"application/json"},t);super(r,s,n,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await Ne.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var n=this;return n.handleOperation(async()=>await Ne.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await Ne.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var n=this;return n.handleOperation(async()=>await Ne.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{})}},Gm=class extends Hn{constructor(e,t={},n){const r=e.replace(/\/$/,""),s=O(O({},Qr),{},{"Content-Type":"application/json"},t);super(r,s,n,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Ne.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await Ne.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await Ne.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await Ne.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Ne.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},Jm=class extends Hn{constructor(e,t={},n){const r=e.replace(/\/$/,""),s=O(O({},Qr),{},{"Content-Type":"application/json"},t);super(r,s,n,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Ne.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Ne.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await Ne.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Ne.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},Qm=class extends Jm{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new Ym(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},Ym=class extends Km{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,O(O({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,O(O({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new Xm(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},Xm=class extends Gm{constructor(e,t,n,r,s){super(e,t,s),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,O(O({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,O(O({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,O(O({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,O(O({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,O(O({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},Zm=class extends qm{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new Wm(this.url,this.headers,e,this.fetch)}get vectors(){return new Qm(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Hm(this.url+"/iceberg",this.headers,this.fetch)}};const mh="2.96.0",fn=30*1e3,po=3,la=po*fn,eg="http://localhost:9999",tg="supabase.auth.token",ng={"X-Client-Info":`gotrue-js/${mh}`},mo="X-Supabase-Api-Version",gh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},rg=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,sg=10*60*1e3;class Fr extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function C(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class ig extends Fr{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function ag(e){return C(e)&&e.name==="AuthApiError"}class Wt extends Fr{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class ht extends Fr{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class be extends ht{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ua(e){return C(e)&&e.name==="AuthSessionMissingError"}class on extends ht{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ks extends ht{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ss extends ht{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function og(e){return C(e)&&e.name==="AuthImplicitGrantRedirectError"}class zu extends ht{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class lg extends ht{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class go extends ht{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function ca(e){return C(e)&&e.name==="AuthRetryableFetchError"}class $u extends ht{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class vo extends ht{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ui="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Uu=` 	
\r=`.split(""),ug=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Uu.length;t+=1)e[Uu[t].charCodeAt(0)]=-2;for(let t=0;t<ui.length;t+=1)e[ui[t].charCodeAt(0)]=t;return e})();function Du(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(ui[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(ui[r]),t.queuedBits-=6}}function vh(e,t,n){const r=ug[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Bu(e){const t=[],n=a=>{t.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{hg(a,r,n)};for(let a=0;a<e.length;a+=1)vh(e.charCodeAt(a),s,i);return t.join("")}function cg(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function dg(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}cg(r,t)}}function hg(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function jn(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)vh(e.charCodeAt(s),n,r);return new Uint8Array(t)}function fg(e){const t=[];return dg(e,n=>t.push(n)),new Uint8Array(t)}function Kt(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>Du(s,n,r)),Du(null,n,r),t.join("")}function pg(e){return Math.round(Date.now()/1e3)+e}function mg(){return Symbol("auth-callback")}const oe=()=>typeof window<"u"&&typeof document<"u",$t={tested:!1,writable:!1},yh=()=>{if(!oe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if($t.tested)return $t.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),$t.tested=!0,$t.writable=!0}catch{$t.tested=!0,$t.writable=!1}return $t.writable};function gg(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const wh=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),vg=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",pn=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Ut=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ae=async(e,t)=>{await e.removeItem(t)};class Oi{constructor(){this.promise=new Oi.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Oi.promiseConstructor=Promise;function xs(e){const t=e.split(".");if(t.length!==3)throw new vo("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!rg.test(t[r]))throw new vo("JWT not in base64url format");return{header:JSON.parse(Bu(t[0])),payload:JSON.parse(Bu(t[1])),signature:jn(t[2]),raw:{header:t[0],payload:t[1]}}}async function yg(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function wg(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){r(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function _g(e){return("0"+e.toString(16)).substr(-2)}function Eg(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,_g).join("")}async function kg(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Sg(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await kg(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ln(e,t,n=!1){const r=Eg();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await pn(e,`${t}-code-verifier`,s);const i=await Sg(r);return[i,r===i?"plain":"s256"]}const xg=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function bg(e){const t=e.headers.get(mo);if(!t||!t.match(xg))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Tg(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Ng(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Rg=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function un(e){if(!Rg.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function da(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Cg(e,t){return new Proxy(e,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,s)}})}function Mu(e){return JSON.parse(JSON.stringify(e))}const Mt=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Og=[502,503,504];async function Fu(e){var t;if(!vg(e))throw new go(Mt(e),0);if(Og.includes(e.status))throw new go(Mt(e),e.status);let n;try{n=await e.json()}catch(i){throw new Wt(Mt(i),i)}let r;const s=bg(e);if(s&&s.getTime()>=gh["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new $u(Mt(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new be}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new $u(Mt(n),e.status,n.weak_password.reasons);throw new ig(Mt(n),e.status||500,r)}const Pg=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function P(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[mo]||(i[mo]=gh["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const a=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await Ag(e,t,n+o,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function Ag(e,t,n,r,s,i){const a=Pg(t,r,s,i);let o;try{o=await e(n,Object.assign({},a))}catch(l){throw console.error(l),new go(Mt(l),0)}if(o.ok||await Fu(o),r!=null&&r.noResolveJson)return o;try{return await o.json()}catch(l){await Fu(l)}}function Me(e){var t;let n=null;Lg(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=pg(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Wu(e){const t=Me(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function wt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Ig(e){return{data:e,error:null}}function jg(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,a=Ni(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function Vu(e){return e}function Lg(e){return e.access_token&&e.refresh_token&&e.expires_in}const ha=["global","local","others"];class zg{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=wh(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=ha[0]){if(ha.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ha.join(", ")}`);try{return await P(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(C(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await P(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:wt})}catch(r){if(C(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Ni(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await P(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:jg,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(C(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await P(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:wt})}catch(n){if(C(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,a,o,l;try{const u={nextPage:null,lastPage:0,total:0},c=await P(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Vu});if(c.error)throw c.error;const g=await c.json(),m=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(l=(o=c.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return v.length>0&&(v.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(y.split(";")[1].split("=")[1]);u[`${E}Page`]=w}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},g),u),error:null}}catch(u){if(C(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){un(t);try{return await P(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:wt})}catch(n){if(C(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){un(t);try{return await P(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:wt})}catch(r){if(C(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){un(t);try{return await P(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:wt})}catch(r){if(C(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){un(t.userId);try{const{data:n,error:r}=await P(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(C(n))return{data:null,error:n};throw n}}async _deleteFactor(t){un(t.userId),un(t.id);try{return{data:await P(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(C(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,s,i,a,o,l;try{const u={nextPage:null,lastPage:0,total:0},c=await P(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Vu});if(c.error)throw c.error;const g=await c.json(),m=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(l=(o=c.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return v.length>0&&(v.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(y.split(";")[1].split("=")[1]);u[`${E}Page`]=w}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},g),u),error:null}}catch(u){if(C(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await P(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(C(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await P(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(C(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await P(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(C(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await P(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(C(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await P(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(C(n))return{data:null,error:n};throw n}}}function qu(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const cn={debug:!!(globalThis&&yh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class _h extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Hu extends _h{}async function $g(e,t,n){cn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;t>0&&setTimeout(()=>{r.abort(),cn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve();try{return await globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){cn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{cn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw cn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Hu(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(cn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}})}catch(s){throw(s==null?void 0:s.name)==="AbortError"?new Hu(`Acquiring an exclusive Navigator LockManager lock "${e}" timed out waiting ${t}ms`):s}}function Ug(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Eh(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Dg(e){return parseInt(e,16)}function Bg(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function Mg(e){var t;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:o,requestId:l,resources:u,scheme:c,uri:g,version:m}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const v=Eh(e.address),y=c?`${c}://${r}`:r,w=e.statement?`${e.statement}
`:"",E=`${y} wants you to sign in with your Ethereum account:
${v}

${w}`;let h=`URI: ${g}
Version: ${m}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(h+=`
Expiration Time: ${s.toISOString()}`),o&&(h+=`
Not Before: ${o.toISOString()}`),l&&(h+=`
Request ID: ${l}`),u){let f=`
Resources:`;for(const p of u){if(!p||typeof p!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${p}`);f+=`
- ${p}`}h+=f}return`${E}
${h}`}class X extends Error{constructor({message:t,code:n,cause:r,name:s}){var i;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class ci extends X{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function Fg({error:e,options:t}){var n,r,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new X({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new X({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new X({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new X({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new X({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new X({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new X({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new X({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(kh(a)){if(i.rp.id!==a)return new X({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new X({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new X({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new X({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new X({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Wg({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new X({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new X({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(kh(r)){if(n.rpId!==r)return new X({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new X({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new X({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new X({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class Vg{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const qg=new Vg;function Hg(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,s=Ni(e,["challenge","user","excludeCredentials"]),i=jn(t).buffer,a=Object.assign(Object.assign({},n),{id:jn(n.id).buffer}),o=Object.assign(Object.assign({},s),{challenge:i,user:a});if(r&&r.length>0){o.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];o.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:jn(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function Kg(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=Ni(e,["challenge","allowCredentials"]),s=jn(t).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const o=n[a];i.allowCredentials[a]=Object.assign(Object.assign({},o),{id:jn(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return i}function Gg(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Kt(new Uint8Array(e.response.attestationObject)),clientDataJSON:Kt(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Jg(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Kt(new Uint8Array(s.authenticatorData)),clientDataJSON:Kt(new Uint8Array(s.clientDataJSON)),signature:Kt(new Uint8Array(s.signature)),userHandle:s.userHandle?Kt(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function kh(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Ku(){var e,t;return!!(oe()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Qg(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ci("Browser returned unexpected credential type",t)}:{data:null,error:new ci("Empty credential response",t)}}catch(t){return{data:null,error:Fg({error:t,options:e})}}}async function Yg(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ci("Browser returned unexpected credential type",t)}:{data:null,error:new ci("Empty credential response",t)}}catch(t){return{data:null,error:Wg({error:t,options:e})}}}const Xg={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Zg={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function di(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of e)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))r[i]=a;else if(n(a))r[i]=a;else if(t(a)){const o=r[i];t(o)?r[i]=di(o,a):r[i]=di(a)}else r[i]=a}return r}function ev(e,t){return di(Xg,e,t||{})}function tv(e,t){return di(Zg,e,t||{})}class nv{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:s},i){var a;try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!o)return{data:null,error:l};const u=s??qg.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;if(!c.name){const g=r;if(g)c.name=`${c.id}:${g}`;else{const v=(await this.client.getUser()).data.user,y=((a=v==null?void 0:v.user_metadata)===null||a===void 0?void 0:a.name)||(v==null?void 0:v.email)||(v==null?void 0:v.id)||"User";c.name=`${c.id}:${y}`}}c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=ev(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:g,error:m}=await Qg({publicKey:c,signal:u});return g?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:g}},error:null}:{data:null,error:m}}case"request":{const c=tv(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:g,error:m}=await Yg(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:u}));return g?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:g}},error:null}:{data:null,error:m}}}}catch(o){return C(o)?{data:null,error:o}:{data:null,error:new Wt("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new Fr("rpId is required for WebAuthn authentication")};try{if(!Ku())return{data:null,error:new Wt("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!a)return{data:null,error:o};const{webauthn:l}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(a){return C(a)?{data:null,error:a}:{data:null,error:new Wt("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new Fr("rpId is required for WebAuthn registration")};try{if(!Ku())return{data:null,error:new Wt("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(c=>{var g;return(g=c.data)===null||g===void 0?void 0:g.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===t&&m.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:o};const{data:l,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(a){return C(a)?{data:null,error:a}:{data:null,error:new Wt("Unexpected error in register",a)}}}}Ug();const rv={url:eg,storageKey:tg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ng,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Gu(e,t,n){return await n()}const dn={};class Wr{get jwks(){var t,n;return(n=(t=dn[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){dn[this.storageKey]=Object.assign(Object.assign({},dn[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=dn[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){dn[this.storageKey]=Object.assign(Object.assign({},dn[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},rv),t);if(this.storageKey=i.storageKey,this.instanceID=(n=Wr.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Wr.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&oe()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new zg({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=wh(i.fetch),this.lock=i.lock||Gu,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&oe()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=$g:this.lock=Gu,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new nv(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:yh()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=qu(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=qu(this.memoryStorage)),oe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a);try{await this._notifyAllSubscribers(a.data.event,a.data.session,!1)}catch(o){this._debug("#broadcastChannel","error",o)}})}this.initialize().catch(a=>{this._debug("#initialize()","error",a)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${mh}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(oe()&&(n=gg(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),oe()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),og(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return C(n)?this._returnResult({error:n}):this._returnResult({error:new Wt("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await P(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Me}),{data:a,error:o}=i;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(C(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:c,password:g,options:m}=t;let v=null,y=null;this.flowType==="pkce"&&([v,y]=await ln(this.storage,this.storageKey)),i=await P(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:c,password:g,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:v,code_challenge_method:y},xform:Me})}else if("phone"in t){const{phone:c,password:g,options:m}=t;i=await P(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:g,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Me})}else throw new ks("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return await ae(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:o});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(await ae(this.storage,`${this.storageKey}-code-verifier`),C(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:a,options:o}=t;n=await P(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Wu})}else if("phone"in t){const{phone:i,password:a,options:o}=t;n=await P(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Wu})}else throw new ks("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const i=new on;return this._returnResult({data:{user:null,session:null},error:i})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(C(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,s,i,a,o,l,u,c,g,m;let v,y;if("message"in t)v=t.message,y=t.signature;else{const{chain:w,wallet:E,statement:h,options:f}=t;let p;if(oe())if(typeof E=="object")p=E;else{const U=window;if("ethereum"in U&&typeof U.ethereum=="object"&&"request"in U.ethereum&&typeof U.ethereum.request=="function")p=U.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!(f!=null&&f.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");p=E}const _=new URL((n=f==null?void 0:f.url)!==null&&n!==void 0?n:window.location.href),S=await p.request({method:"eth_requestAccounts"}).then(U=>U).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const x=Eh(S[0]);let b=(r=f==null?void 0:f.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!b){const U=await p.request({method:"eth_chainId"});b=Dg(U)}const R={domain:_.host,address:x,statement:h,uri:_.href,version:"1",chainId:b,nonce:(s=f==null?void 0:f.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=f==null?void 0:f.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(o=f==null?void 0:f.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=f==null?void 0:f.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=f==null?void 0:f.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=f==null?void 0:f.signInWithEthereum)===null||c===void 0?void 0:c.resources};v=Mg(R),y=await p.request({method:"personal_sign",params:[Bg(v),x]})}try{const{data:w,error:E}=await P(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:y},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Me});if(E)throw E;if(!w||!w.session||!w.user){const h=new on;return this._returnResult({data:{user:null,session:null},error:h})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:E})}catch(w){if(C(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(t){var n,r,s,i,a,o,l,u,c,g,m,v;let y,w;if("message"in t)y=t.message,w=t.signature;else{const{chain:E,wallet:h,statement:f,options:p}=t;let _;if(oe())if(typeof h=="object")_=h;else{const x=window;if("solana"in x&&typeof x.solana=="object"&&("signIn"in x.solana&&typeof x.solana.signIn=="function"||"signMessage"in x.solana&&typeof x.solana.signMessage=="function"))_=x.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof h!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=h}const S=new URL((n=p==null?void 0:p.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in _&&_.signIn){const x=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),f?{statement:f}:null));let b;if(Array.isArray(x)&&x[0]&&typeof x[0]=="object")b=x[0];else if(x&&typeof x=="object"&&"signedMessage"in x&&"signature"in x)b=x;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in b&&"signature"in b&&(typeof b.signedMessage=="string"||b.signedMessage instanceof Uint8Array)&&b.signature instanceof Uint8Array)y=typeof b.signedMessage=="string"?b.signedMessage:new TextDecoder().decode(b.signedMessage),w=b.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(r=p==null?void 0:p.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=p==null?void 0:p.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((a=p==null?void 0:p.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((o=p==null?void 0:p.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((u=p==null?void 0:p.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((g=(c=p==null?void 0:p.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||g===void 0)&&g.length?["Resources",...p.signInWithSolana.resources.map(b=>`- ${b}`)]:[]].join(`
`);const x=await _.signMessage(new TextEncoder().encode(y),"utf8");if(!x||!(x instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=x}}try{const{data:E,error:h}=await P(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Kt(w)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Me});if(h)throw h;if(!E||!E.session||!E.user){const f=new on;return this._returnResult({data:{user:null,session:null},error:f})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:h})}catch(E){if(C(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async _exchangeCodeForSession(t){const n=await Ut(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new lg;const{data:i,error:a}=await P(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Me});if(await ae(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const o=new on;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(await ae(this.storage,`${this.storageKey}-code-verifier`),C(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:a}=t,o=await P(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Me}),{data:l,error:u}=o;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new on;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(n){if(C(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,s,i,a;try{if("email"in t){const{email:o,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await ln(this.storage,this.storageKey));const{error:g}=await P(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:g})}if("phone"in t){const{phone:o,options:l}=t,{data:u,error:c}=await P(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new ks("You must provide either an email or phone number.")}catch(o){if(await ae(this.storage,`${this.storageKey}-code-verifier`),C(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:o}=await P(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Me});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(C(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var n,r,s,i,a;try{let o=null,l=null;this.flowType==="pkce"&&([o,l]=await ln(this.storage,this.storageKey));const u=await P(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:Ig});return!((i=u.data)===null||i===void 0)&&i.url&&oe()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(o){if(await ae(this.storage,`${this.storageKey}-code-verifier`),C(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new be;const{error:s}=await P(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(C(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:a}=await P(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:a,error:o}=await P(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o})}throw new ks("You must provide either an email or phone number and a type")}catch(n){if(C(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Ut(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<la:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const a=await Ut(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=da()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};t.user=Cg(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await P(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:wt}):await this._useSession(async n=>{var r,s,i;const{data:a,error:o}=n;if(o)throw o;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new be}:await P(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:wt})})}catch(n){if(C(n))return ua(n)&&(await this._removeSession(),await ae(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new be;const a=s.session;let o=null,l=null;this.flowType==="pkce"&&t.email!=null&&([o,l]=await ln(this.storage,this.storageKey));const{data:u,error:c}=await P(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:wt});if(c)throw c;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(r){if(await ae(this.storage,`${this.storageKey}-code-verifier`),C(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new be;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:a}=xs(t.access_token);if(a.exp&&(r=a.exp,s=r<=n),s){const{data:o,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:l}=await this._getUser(t.access_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(n){if(C(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:a,error:o}=n;if(o)throw o;t=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new be;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(C(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!oe())throw new Ss("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ss(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new zu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ss("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new zu("No code detected.");const{data:f,error:p}=await this._exchangeCodeForSession(t.code);if(p)throw p;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:l,token_type:u}=t;if(!i||!o||!a||!u)throw new Ss("No session defined in URL");const c=Math.round(Date.now()/1e3),g=parseInt(o);let m=c+g;l&&(m=parseInt(l));const v=m-c;v*1e3<=fn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${g}s`);const y=m-g;c-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,m,c):c-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,m,c);const{data:w,error:E}=await this._getUser(i);if(E)throw E;const h={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:g,expires_at:m,refresh_token:a,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:h,redirectType:t.type},error:null})}catch(r){if(C(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Ut(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i&&!ua(i))return this._returnResult({error:i});const a=(r=s.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:o}=await this.admin.signOut(a,t);if(o&&!(ag(o)&&(o.status===404||o.status===401||o.status===403)||ua(o)))return this._returnResult({error:o})}return t!=="others"&&(await this._removeSession(),await ae(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=mg(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await ln(this.storage,this.storageKey,!0));try{return await P(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(await ae(this.storage,`${this.storageKey}-code-verifier`),C(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(C(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var a,o,l,u,c;const{data:g,error:m}=i;if(m)throw m;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await P(this.fetch,"GET",v,{headers:this.headers,jwt:(c=(u=g.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return oe()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(C(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:a,provider:o,token:l,access_token:u,nonce:c}=t,g=await P(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:o,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Me}),{data:m,error:v}=g;return v?this._returnResult({data:{user:null,session:null},error:v}):!m||!m.session||!m.user?this._returnResult({data:{user:null,session:null},error:new on}):(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),this._returnResult({data:m,error:v}))}catch(s){if(await ae(this.storage,`${this.storageKey}-code-verifier`),C(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)throw a;return await P(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(C(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await wg(async s=>(s>0&&await yg(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await P(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Me})),(s,i)=>{const a=200*Math.pow(2,s);return i&&ca(i)&&Date.now()+a-r<fn})}catch(r){if(this._debug(n,"error",r),C(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),oe()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Ut(this.storage,this.storageKey);if(s&&this.userStorage){let a=await Ut(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await pn(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:da()}else if(s&&!s.user&&!s.user){const a=await Ut(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await ae(this.storage,this.storageKey+"-user"),await pn(this.storage,this.storageKey,s)):s.user=da()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<la;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${la}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),ca(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(s.access_token);!o&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new be;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Oi;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new be;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={data:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),C(i)){const a={data:null,error:i};return ca(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,n)}catch(l){i.push(l)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await ae(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await pn(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=Mu(s);await pn(this.storage,this.storageKey,i)}else{const s=Mu(n);await pn(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ae(this.storage,this.storageKey),await ae(this.storage,this.storageKey+"-code-verifier"),await ae(this.storage,this.storageKey+"-user"),this.userStorage&&await ae(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&oe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),fn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/fn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${fn}ms, refresh threshold is ${po} ticks`),s<=po&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof _h)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!oe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,a]=await ln(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?this._returnResult({data:null,error:i}):await P(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(C(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:u}=await P(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(C(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?Gg(t.webauthn.credential_response):Jg(t.webauthn.credential_response)})}:{code:t.code}),{data:o,error:l}=await P(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:l}))})}catch(n){if(C(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const a=await P(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:o}=a;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:Hg(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:Kg(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(C(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(t){var n,r,s,i;if(t)try{const{payload:v}=xs(t);let y=null;v.aal&&(y=v.aal);let w=y;const{data:{user:E},error:h}=await this.getUser(t);if(h)return this._returnResult({data:null,error:h});((r=(n=E==null?void 0:E.factors)===null||n===void 0?void 0:n.filter(_=>_.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(w="aal2");const p=v.amr||[];return{data:{currentLevel:y,nextLevel:w,currentAuthenticationMethods:p},error:null}}catch(v){if(C(v))return this._returnResult({data:null,error:v});throw v}const{data:{session:a},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=xs(a.access_token);let u=null;l.aal&&(u=l.aal);let c=u;((i=(s=a.user.factors)===null||s===void 0?void 0:s.filter(v=>v.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(c="aal2");const m=l.amr||[];return{data:{currentLevel:u,nextLevel:c,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await P(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new be})})}catch(n){if(C(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new be});const a=await P(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&oe()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(C(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new be});const a=await P(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&oe()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(C(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await P(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new be})})}catch(t){if(C(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?(await P(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new be})})}catch(n){if(C(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(o=>o.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(o=>o.kid===t),r&&this.jwks_cached_at+sg>s)return r;const{data:i,error:a}=await P(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(o=>o.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:v,error:y}=await this.getSession();if(y||!v.session)return this._returnResult({data:null,error:y});r=v.session.access_token}const{header:s,payload:i,signature:a,raw:{header:o,payload:l}}=xs(r);n!=null&&n.allowExpired||Tg(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:i,header:s,signature:a},error:null}}const c=Ng(s.alg),g=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,g,a,fg(`${o}.${l}`)))throw new vo("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(r){if(C(r))return this._returnResult({data:null,error:r});throw r}}}Wr.nextInstanceID={};const sv=Wr,iv="2.96.0";let lr="";typeof Deno<"u"?lr="deno":typeof document<"u"?lr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?lr="react-native":lr="node";const av={"X-Client-Info":`supabase-js-${lr}/${iv}`},ov={headers:av},lv={schema:"public"},uv={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},cv={};function Vr(e){"@babel/helpers - typeof";return Vr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vr(e)}function dv(e,t){if(Vr(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Vr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hv(e){var t=dv(e,"string");return Vr(t)=="symbol"?t:t+""}function fv(e,t,n){return(t=hv(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ju(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ju(Object(n),!0).forEach(function(r){fv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ju(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const pv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),mv=()=>Headers,gv=(e,t,n)=>{const r=pv(n),s=mv();return async(i,a)=>{var o;const l=(o=await t())!==null&&o!==void 0?o:e;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,G(G({},a),{},{headers:u}))}};function vv(e){return e.endsWith("/")?e:e+"/"}function yv(e,t){var n,r;const{db:s,auth:i,realtime:a,global:o}=e,{db:l,auth:u,realtime:c,global:g}=t,m={db:G(G({},l),s),auth:G(G({},u),i),realtime:G(G({},c),a),storage:{},global:G(G(G({},g),o),{},{headers:G(G({},(n=g==null?void 0:g.headers)!==null&&n!==void 0?n:{}),(r=o==null?void 0:o.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function wv(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(vv(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var _v=class extends sv{constructor(e){super(e)}},Ev=class{constructor(e,t,n){var r,s;this.supabaseUrl=e,this.supabaseKey=t;const i=wv(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const a=`sb-${i.hostname.split(".")[0]}-auth-token`,o={db:lv,realtime:cv,auth:G(G({},uv),{},{storageKey:a}),global:ov},l=yv(n??{},o);if(this.storageKey=(r=l.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(s=l.global.headers)!==null&&s!==void 0?s:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(c,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=gv(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(G({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(c=>this.realtime.setAuth(c)).catch(c=>console.warn("Failed to set initial Realtime auth token:",c)),this.rest=new am(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch,timeout:l.db.timeout,urlLengthLimit:l.db.urlLengthLimit}),this.storage=new Zm(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new Xp(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,storageKey:i,flowType:a,lock:o,debug:l,throwOnError:u},c,g){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new _v({url:this.authUrl.href,headers:G(G({},m),c),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,flowType:a,lock:o,debug:l,throwOnError:u,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Sm(this.realtimeUrl.href,G(G({},e),{},{params:G(G({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const kv=(e,t,n)=>new Ev(e,t,n);function Sv(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}Sv()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Sh=void 0,xh=void 0;throw new Error(" VITE_SUPABASE_URL  VITE_SUPABASE_ANON_KEY ");const fe=kv(Sh,xh,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}});async function pl(e,t){const{data:{session:n}}=await fe.auth.getSession();if(!n)return{data:null,error:""};const r=await fetch(`${Sh}/functions/v1/${e}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n.access_token}`,apikey:xh},body:JSON.stringify(t)}),s=await r.json();return!r.ok||!s.success?{data:null,error:s.error??""}:{data:s,error:null}}async function xv(e){return pl("create-user",e)}async function bh(e){return pl("invite-player",e)}async function bv(e){return pl("delete-member",{target_user_id:e})}const Fn=A.createContext({user:null,loading:!0,signIn:async()=>({error:null}),signOut:async()=>{}});function Yr(){return A.useContext(Fn)}function Tv(){const[e,t]=A.useState(null),[n,r]=A.useState(!0);async function s(o){const{data:l,error:u}=await fe.from("profiles").select("*").eq("id",o).eq("is_active",!0).single();if(u||!l)return console.error("Profile load error:",u),null;const{data:c,error:g}=await fe.from("organizations").select("*").eq("id",l.organization_id).single();return g||!c?(console.error("Org load error:",g),null):(await fe.from("profiles").update({last_seen_at:new Date().toISOString()}).eq("id",o),{id:o,email:l.email,profile:l,organization:c})}A.useEffect(()=>{fe.auth.getSession().then(async({data:{session:l}})=>{if(l!=null&&l.user){const u=await s(l.user.id);t(u)}r(!1)});const{data:{subscription:o}}=fe.auth.onAuthStateChange(async(l,u)=>{if(l==="SIGNED_IN"&&(u!=null&&u.user)){const c=await s(u.user.id);t(c)}else l==="SIGNED_OUT"&&t(null);r(!1)});return()=>o.unsubscribe()},[]);async function i(o,l){const{error:u}=await fe.auth.signInWithPassword({email:o,password:l});return u?{error:u.message==="Invalid login credentials"?"":u.message}:{error:null}}async function a(){await fe.auth.signOut(),t(null)}return{user:e,loading:n,signIn:i,signOut:a}}function Nv(){const{signIn:e}=Yr(),[t,n]=A.useState(""),[r,s]=A.useState(""),[i,a]=A.useState(!1),[o,l]=A.useState(null);async function u(c){c.preventDefault(),a(!0),l(null);const{error:g}=await e(t,r);a(!1),g&&l(g)}return d.createElement("div",{className:"min-h-screen bg-zinc-950 flex items-center justify-center"},d.createElement("div",{className:"fixed inset-0 opacity-30 pointer-events-none",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg viewBox='0 0 512 512' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.75' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.05'/%3E%3C/svg%3E")`}}),d.createElement("div",{className:"w-full max-w-sm mx-4 animate-fade-in"},d.createElement("div",{className:"text-center mb-10"},d.createElement("h1",{className:"text-5xl tracking-[0.2em] text-yellow-400",style:{fontFamily:"'Bebas Neue', sans-serif"}},"ORIGIN"),d.createElement("p",{className:"text-[10px] tracking-[0.35em] text-zinc-600 mt-2 uppercase"},"Admin Portal")),d.createElement("div",{className:"bg-zinc-900 border border-zinc-800 rounded-2xl p-8"},d.createElement("h2",{className:"text-sm text-zinc-400 tracking-widest uppercase mb-6 font-mono"},""),d.createElement("form",{onSubmit:u,className:"space-y-4"},d.createElement("div",null,d.createElement("label",{className:"text-[10px] text-zinc-600 tracking-widest uppercase block mb-1.5"},""),d.createElement("input",{type:"email",required:!0,autoComplete:"email",value:t,onChange:c=>n(c.target.value),placeholder:"your@email.com",className:"w-full bg-zinc-800 border border-zinc-700 rounded-lg px-3 py-2.5 text-sm text-zinc-200 focus:border-yellow-400/50 outline-none placeholder:text-zinc-600 transition-colors"})),d.createElement("div",null,d.createElement("label",{className:"text-[10px] text-zinc-600 tracking-widest uppercase block mb-1.5"},""),d.createElement("input",{type:"password",required:!0,autoComplete:"current-password",value:r,onChange:c=>s(c.target.value),placeholder:"",className:"w-full bg-zinc-800 border border-zinc-700 rounded-lg px-3 py-2.5 text-sm text-zinc-200 focus:border-yellow-400/50 outline-none placeholder:text-zinc-600 transition-colors"})),o&&d.createElement("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg px-3 py-2.5 text-sm text-red-400"},o),d.createElement("button",{type:"submit",disabled:i,className:"w-full bg-yellow-400 text-zinc-900 font-bold py-2.5 rounded-lg hover:bg-yellow-300 active:scale-[0.98] disabled:opacity-50 transition-all text-sm mt-2"},i?"...":""))),d.createElement("p",{className:"text-center text-[10px] text-zinc-700 mt-6 font-mono tracking-wider"},"ORIGIN ADMIN PORTAL  Powered by Supabase + Vercel")))}const Rv=void 0,Cv=void 0;function Ov(){const e=new URLSearchParams(window.location.search).get("token"),[t,n]=A.useState("loading"),[r,s]=A.useState(null),[i,a]=A.useState({full_name:"",password:"",confirm:""}),[o,l]=A.useState(!1),[u,c]=A.useState(null);A.useEffect(()=>{if(!e){n("error");return}n("form")},[e]);async function g(m){if(m.preventDefault(),i.password!==i.confirm){c("");return}if(i.password.length<8){c("8");return}l(!0),c(null);try{const y=await(await fetch(`${Rv}/functions/v1/accept-invite`,{method:"POST",headers:{"Content-Type":"application/json",apikey:Cv},body:JSON.stringify({token:e,password:i.password,full_name:i.full_name})})).json();y.success?n("success"):c(y.error??"")}catch{c("")}finally{l(!1)}}return t==="error"?d.createElement("div",{className:"min-h-screen bg-zinc-950 flex items-center justify-center"},d.createElement("div",{className:"text-center max-w-sm"},d.createElement("p",{className:"text-4xl mb-4"},""),d.createElement("h2",{className:"text-zinc-300 font-mono mb-2"},""),d.createElement("p",{className:"text-sm text-zinc-600"},""),d.createElement("a",{href:"/",className:"mt-4 text-yellow-400 text-sm hover:underline block"},""))):t==="success"?d.createElement("div",{className:"min-h-screen bg-zinc-950 flex items-center justify-center"},d.createElement("div",{className:"text-center max-w-sm"},d.createElement("div",{className:"text-5xl mb-6 text-yellow-400"},""),d.createElement("h2",{className:"text-xl text-zinc-200 font-mono tracking-widest mb-2"},""),d.createElement("p",{className:"text-sm text-zinc-500 mb-6"},""),d.createElement("a",{href:"/",className:"inline-block bg-yellow-400 text-zinc-900 font-bold px-6 py-2.5 rounded-lg hover:bg-yellow-300 transition-colors text-sm"},""))):d.createElement("div",{className:"min-h-screen bg-zinc-950 flex items-center justify-center"},d.createElement("div",{className:"w-full max-w-sm mx-4"},d.createElement("div",{className:"text-center mb-8"},d.createElement("h1",{className:"text-4xl tracking-[0.2em] text-yellow-400",style:{fontFamily:"'Bebas Neue', sans-serif"}},"ORIGIN"),d.createElement("p",{className:"text-[10px] tracking-[0.3em] text-zinc-600 mt-1"},"")),d.createElement("div",{className:"bg-zinc-900 border border-zinc-800 rounded-2xl p-8"},d.createElement("h2",{className:"text-sm text-zinc-400 tracking-widest uppercase mb-6 font-mono"},""),d.createElement("form",{onSubmit:g,className:"space-y-4"},d.createElement("div",null,d.createElement("label",{className:"text-[10px] text-zinc-600 tracking-widest uppercase block mb-1.5"},""),d.createElement("input",{required:!0,type:"text",placeholder:" ",value:i.full_name,onChange:m=>a(v=>({...v,full_name:m.target.value})),className:"w-full bg-zinc-800 border border-zinc-700 rounded-lg px-3 py-2.5 text-sm text-zinc-200 focus:border-yellow-400/50 outline-none placeholder:text-zinc-600 transition-colors"})),d.createElement("div",null,d.createElement("label",{className:"text-[10px] text-zinc-600 tracking-widest uppercase block mb-1.5"},"8"),d.createElement("input",{required:!0,type:"password",placeholder:"",minLength:8,value:i.password,onChange:m=>a(v=>({...v,password:m.target.value})),className:"w-full bg-zinc-800 border border-zinc-700 rounded-lg px-3 py-2.5 text-sm text-zinc-200 focus:border-yellow-400/50 outline-none placeholder:text-zinc-600 transition-colors"})),d.createElement("div",null,d.createElement("label",{className:"text-[10px] text-zinc-600 tracking-widest uppercase block mb-1.5"},""),d.createElement("input",{required:!0,type:"password",placeholder:"",minLength:8,value:i.confirm,onChange:m=>a(v=>({...v,confirm:m.target.value})),className:"w-full bg-zinc-800 border border-zinc-700 rounded-lg px-3 py-2.5 text-sm text-zinc-200 focus:border-yellow-400/50 outline-none placeholder:text-zinc-600 transition-colors"})),u&&d.createElement("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg px-3 py-2.5 text-sm text-red-400"},u),d.createElement("button",{type:"submit",disabled:o,className:"w-full bg-yellow-400 text-zinc-900 font-bold py-2.5 rounded-lg hover:bg-yellow-300 disabled:opacity-50 transition-colors text-sm"},o?"...":"")))))}const Xr={creator:"Creator",admin:"Admin",player:"Player"},ur={creator:"#e8ff47",admin:"#47c2ff",player:"#a78bfa"};function Pv(e,t){return t==="creator"?!1:e==="creator"||e==="admin"&&t==="player"}function Av({role:e}){const t={creator:"bg-yellow-400/10 text-yellow-300 border border-yellow-400/20",admin:"bg-sky-400/10 text-sky-300 border border-sky-400/20",player:"bg-violet-400/10 text-violet-300 border border-violet-400/20"};return d.createElement("span",{className:`text-[10px] font-mono tracking-widest px-2 py-0.5 rounded ${t[e]}`},Xr[e])}function Iv({isActive:e,lastSeen:t}){return e?(t?Date.now()-new Date(t).getTime()<15*60*1e3:!1)?d.createElement("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-400 inline-block shadow-[0_0_4px_#4ade80]"}):d.createElement("span",{className:"w-1.5 h-1.5 rounded-full bg-zinc-500 inline-block"}):d.createElement("span",{className:"w-1.5 h-1.5 rounded-full bg-zinc-600 inline-block"})}function jv({profile:e}){const t={creator:"bg-yellow-400/10 text-yellow-300 border-yellow-400/30",admin:"bg-sky-400/10 text-sky-300 border-sky-400/30",player:"bg-violet-400/10 text-violet-300 border-violet-400/30"},n=(e.full_name??e.email).split(" ").map(r=>r[0]).join("").slice(0,2).toUpperCase();return d.createElement("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs border ${t[e.role]}`},n)}function Lv(e){if(!e)return"";const t=Date.now()-new Date(e).getTime();return t<6e4?"":t<36e5?`${Math.floor(t/6e4)}`:t<864e5?`${Math.floor(t/36e5)}`:`${Math.floor(t/864e5)}`}function zv(){const{user:e}=Yr(),[t,n]=A.useState([]),[r,s]=A.useState(!0),[i,a]=A.useState(""),[o,l]=A.useState("all"),[u,c]=A.useState(null),[g,m]=A.useState(null),v=e==null?void 0:e.profile.role;A.useEffect(()=>{y();const h=fe.channel("profiles-changes").on("postgres_changes",{event:"*",schema:"public",table:"profiles",filter:`organization_id=eq.${e==null?void 0:e.profile.organization_id}`},()=>y()).subscribe();return()=>{h.unsubscribe()}},[]);async function y(){const{data:h,error:f}=await fe.from("profiles").select("*").eq("organization_id",e==null?void 0:e.profile.organization_id).order("role",{ascending:!0}).order("created_at",{ascending:!0});!f&&h&&n(h),s(!1)}async function w(h){if(!confirm(`${h.full_name??h.email} `))return;c(h.id);const{error:f}=await bv(h.id);f?m(f):await y(),c(null)}const E=t.filter(h=>h.is_active).filter(h=>o==="all"||h.role===o).filter(h=>{var f;return i===""||((f=h.full_name)==null?void 0:f.toLowerCase().includes(i.toLowerCase()))||h.email.toLowerCase().includes(i.toLowerCase())});return r?d.createElement("div",{className:"flex items-center justify-center h-64 text-zinc-500 text-sm"},"..."):d.createElement("div",{className:"p-8 max-w-6xl mx-auto"},d.createElement("div",{className:"mb-6 flex items-center justify-between"},d.createElement("div",null,d.createElement("h1",{className:"text-2xl font-display tracking-widest text-zinc-100"},"MEMBERS"),d.createElement("p",{className:"text-xs text-zinc-500 mt-1 tracking-wider"},e==null?void 0:e.organization.name,"  ",E.length," "))),d.createElement("div",{className:"flex gap-3 mb-6 items-center"},d.createElement("input",{type:"text",placeholder:"...",value:i,onChange:h=>a(h.target.value),className:"bg-zinc-900 border border-zinc-800 rounded-lg px-3 py-2 text-sm text-zinc-200 w-56 focus:border-yellow-400/50 outline-none placeholder:text-zinc-600 transition-colors"}),d.createElement("div",{className:"flex gap-1"},["all","creator","admin","player"].map(h=>d.createElement("button",{key:h,onClick:()=>l(h),className:`px-3 py-1.5 rounded-lg text-[11px] tracking-wider font-mono transition-colors ${o===h?"bg-yellow-400/10 text-yellow-300 border border-yellow-400/20":"text-zinc-500 hover:text-zinc-300 border border-transparent"}`},h==="all"?"ALL":Xr[h]))),d.createElement("div",{className:"ml-auto text-xs text-zinc-600 font-mono"},E.length," / ",t.filter(h=>h.is_active).length," ")),g&&d.createElement("div",{className:"mb-4 bg-red-500/10 border border-red-500/20 rounded-lg px-4 py-3 text-sm text-red-400"},g,d.createElement("button",{onClick:()=>m(null),className:"ml-3 text-red-500 hover:text-red-300"},"")),d.createElement("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl overflow-hidden"},d.createElement("table",{className:"w-full"},d.createElement("thead",null,d.createElement("tr",{className:"border-b border-zinc-800"},d.createElement("th",{className:"text-left px-6 py-3 text-[10px] text-zinc-600 tracking-widest uppercase font-normal"},""),d.createElement("th",{className:"text-left px-4 py-3 text-[10px] text-zinc-600 tracking-widest uppercase font-normal"},""),d.createElement("th",{className:"text-left px-4 py-3 text-[10px] text-zinc-600 tracking-widest uppercase font-normal"},""),d.createElement("th",{className:"text-left px-4 py-3 text-[10px] text-zinc-600 tracking-widest uppercase font-normal"},""),d.createElement("th",{className:"text-left px-4 py-3 text-[10px] text-zinc-600 tracking-widest uppercase font-normal"},""),d.createElement("th",{className:"px-4 py-3"}))),d.createElement("tbody",null,E.length===0?d.createElement("tr",null,d.createElement("td",{colSpan:6,className:"text-center py-12 text-zinc-600 text-sm"},"")):E.map(h=>{const f=v?Pv(v,h.role):!1,p=h.id===(e==null?void 0:e.id);return d.createElement("tr",{key:h.id,className:"border-b border-zinc-800/50 hover:bg-zinc-800/20 transition-colors"},d.createElement("td",{className:"px-6 py-4"},d.createElement("div",{className:"flex items-center gap-3"},d.createElement(jv,{profile:h}),d.createElement("div",null,d.createElement("div",{className:"text-sm font-medium text-zinc-200"},h.full_name??"",p&&d.createElement("span",{className:"ml-2 text-[10px] text-yellow-400/60 font-mono"},"YOU")),d.createElement("div",{className:"text-xs text-zinc-500 font-mono"},h.email)))),d.createElement("td",{className:"px-4 py-4"},d.createElement(Av,{role:h.role})),d.createElement("td",{className:"px-4 py-4"},d.createElement(Iv,{isActive:h.is_active,lastSeen:h.last_seen_at})),d.createElement("td",{className:"px-4 py-4 text-xs text-zinc-500 font-mono"},Lv(h.last_seen_at)),d.createElement("td",{className:"px-4 py-4 text-xs text-zinc-600 font-mono"},h.created_by?"":""),d.createElement("td",{className:"px-4 py-4"},f&&!p&&d.createElement("button",{onClick:()=>w(h),disabled:u===h.id,className:"text-zinc-600 hover:text-red-400 transition-colors text-xs px-2 py-1 rounded hover:bg-red-400/5 disabled:opacity-40"},u===h.id?"...":"")))})))),d.createElement("div",{className:"mt-4 text-[11px] text-zinc-600 font-mono space-y-1"},v==="creator"&&d.createElement("p",null," Creator: "),v==="admin"&&d.createElement("p",null," Admin: Player ")))}function $v(){const{user:e}=Yr(),[t,n]=A.useState("overview");return!e||e.profile.role!=="creator"?d.createElement("div",{className:"p-8 flex items-center justify-center min-h-[60vh]"},d.createElement("div",{className:"text-center"},d.createElement("div",{className:"text-4xl mb-4"},""),d.createElement("p",{className:"text-zinc-400 text-sm"}," Creator "))):d.createElement("div",{className:"p-8 max-w-4xl mx-auto"},d.createElement("div",{className:"mb-8"},d.createElement("h1",{className:"text-2xl font-display tracking-widest text-zinc-100"},"ORGANIZATION"),d.createElement("p",{className:"text-xs text-zinc-500 mt-1 tracking-wider"},e.organization.name,"  Creator ")),d.createElement("div",{className:"flex gap-1 mb-8 border-b border-zinc-800"},[{id:"overview",label:""},{id:"create-admin",label:"Admin "},{id:"invite",label:""}].map(r=>d.createElement("button",{key:r.id,onClick:()=>n(r.id),className:`px-4 py-2.5 text-sm font-mono tracking-wider transition-colors border-b-2 -mb-px ${t===r.id?"text-yellow-300 border-yellow-400":"text-zinc-500 border-transparent hover:text-zinc-300"}`},r.label))),t==="overview"&&d.createElement(Uv,null),t==="create-admin"&&d.createElement(Dv,null),t==="invite"&&d.createElement(Bv,null))}function Uv(){const{user:e}=Yr(),[t,n]=A.useState(!1),[r,s]=A.useState((e==null?void 0:e.organization.name)??""),[i,a]=A.useState(!1),[o,l]=A.useState(null);async function u(){if(!e||!r.trim())return;a(!0);const{error:c}=await fe.from("organizations").update({name:r.trim()}).eq("id",e.organization.id);a(!1),c?l(`: ${c.message}`):(l(""),n(!1))}return d.createElement("div",{className:"space-y-6"},d.createElement("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-6"},d.createElement("h2",{className:"text-xs text-zinc-500 tracking-widest uppercase mb-4"},""),d.createElement("div",{className:"grid gap-4"},d.createElement(fa,{label:" ID",value:(e==null?void 0:e.organization.id)??"",mono:!0}),d.createElement(fa,{label:"",value:(e==null?void 0:e.organization.slug)??"",mono:!0}),d.createElement("div",null,d.createElement("label",{className:"text-xs text-zinc-500 tracking-widest uppercase block mb-2"},""),t?d.createElement("div",{className:"flex gap-3"},d.createElement("input",{className:"bg-zinc-800 border border-zinc-700 rounded-lg px-3 py-2 text-sm text-zinc-200 focus:border-yellow-400/50 outline-none flex-1",value:r,onChange:c=>s(c.target.value)}),d.createElement("button",{onClick:u,disabled:i,className:"px-4 py-2 bg-yellow-400 text-zinc-900 text-sm font-semibold rounded-lg hover:bg-yellow-300 disabled:opacity-50 transition-colors"},i?"...":""),d.createElement("button",{onClick:()=>{n(!1),s((e==null?void 0:e.organization.name)??"")},className:"px-4 py-2 text-zinc-400 text-sm hover:text-zinc-200 transition-colors"},"")):d.createElement("div",{className:"flex items-center gap-3"},d.createElement("span",{className:"text-zinc-200"},e==null?void 0:e.organization.name),d.createElement("button",{onClick:()=>n(!0),className:"text-xs text-zinc-600 hover:text-yellow-400 transition-colors font-mono"},""))),d.createElement(fa,{label:"",value:new Date((e==null?void 0:e.organization.created_at)??"").toLocaleDateString("ja-JP")})),o&&d.createElement("p",{className:"mt-3 text-xs text-yellow-400 font-mono"},o)),d.createElement("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-6"},d.createElement("h2",{className:"text-xs text-zinc-500 tracking-widest uppercase mb-4"},""),d.createElement("div",{className:"space-y-3"},d.createElement(bs,{icon:"",label:"Row Level Security",status:"",ok:!0}),d.createElement(bs,{icon:"",label:"Service Role Key",status:"Edge Function ",ok:!0}),d.createElement(bs,{icon:"",label:"JWT ",status:"",ok:!0}),d.createElement(bs,{icon:"",label:"",status:"organization_id ",ok:!0}))))}function fa({label:e,value:t,mono:n}){return d.createElement("div",null,d.createElement("p",{className:"text-xs text-zinc-500 tracking-widest uppercase mb-1"},e),d.createElement("p",{className:`text-sm text-zinc-300 ${n?"font-mono":""}`},t))}function bs({icon:e,label:t,status:n,ok:r}){return d.createElement("div",{className:"flex items-center gap-3"},d.createElement("span",{className:`text-sm ${r?"text-emerald-400":"text-amber-400"}`},e),d.createElement("span",{className:"text-sm text-zinc-400 flex-1"},t),d.createElement("span",{className:`text-xs font-mono ${r?"text-emerald-400":"text-amber-400"}`},n))}function Dv(){const[e,t]=A.useState({email:"",password:"",full_name:"",role:"admin"}),[n,r]=A.useState(!1),[s,i]=A.useState(null);async function a(o){o.preventDefault(),r(!0),i(null);const{error:l}=await xv(e);r(!1),l?i({type:"error",msg:l}):(i({type:"success",msg:`${e.full_name}${e.role}`}),t({email:"",password:"",full_name:"",role:"admin"}))}return d.createElement("form",{onSubmit:a,className:"max-w-md space-y-5"},d.createElement("div",{className:"bg-yellow-400/5 border border-yellow-400/20 rounded-xl p-4 text-sm text-yellow-300/70"},d.createElement("p",{className:"font-mono text-[11px] tracking-widest text-yellow-400 mb-1"},"CREATOR "),""),d.createElement(Gt,{label:""},d.createElement("input",{required:!0,type:"text",placeholder:" ",value:e.full_name,onChange:o=>t(l=>({...l,full_name:o.target.value})),className:"w-full bg-zinc-900 border border-zinc-800 rounded-lg px-3 py-2.5 text-sm text-zinc-200 focus:border-yellow-400/50 outline-none placeholder:text-zinc-600 transition-colors"})),d.createElement(Gt,{label:""},d.createElement("input",{required:!0,type:"email",placeholder:"admin@company.co.jp",value:e.email,onChange:o=>t(l=>({...l,email:o.target.value})),className:"w-full bg-zinc-900 border border-zinc-800 rounded-lg px-3 py-2.5 text-sm text-zinc-200 focus:border-yellow-400/50 outline-none placeholder:text-zinc-600 transition-colors"})),d.createElement(Gt,{label:"8"},d.createElement("input",{required:!0,type:"password",placeholder:"",minLength:8,value:e.password,onChange:o=>t(l=>({...l,password:o.target.value})),className:"w-full bg-zinc-900 border border-zinc-800 rounded-lg px-3 py-2.5 text-sm text-zinc-200 focus:border-yellow-400/50 outline-none placeholder:text-zinc-600 transition-colors"})),d.createElement(Gt,{label:""},d.createElement("div",{className:"flex gap-3"},["admin","player"].map(o=>d.createElement("label",{key:o,className:`flex items-center gap-2 px-4 py-2.5 rounded-lg border cursor-pointer transition-colors ${e.role===o?"border-yellow-400/40 bg-yellow-400/5 text-yellow-300":"border-zinc-800 text-zinc-500 hover:border-zinc-600"}`},d.createElement("input",{type:"radio",name:"role",value:o,checked:e.role===o,onChange:()=>t(l=>({...l,role:o})),className:"hidden"}),d.createElement("span",{className:"text-sm font-mono"},o.toUpperCase()))))),s&&d.createElement("div",{className:`rounded-lg px-4 py-3 text-sm ${s.type==="success"?"bg-emerald-500/10 border border-emerald-500/20 text-emerald-400":"bg-red-500/10 border border-red-500/20 text-red-400"}`},s.msg),d.createElement("button",{type:"submit",disabled:n,className:"w-full bg-yellow-400 text-zinc-900 font-semibold py-2.5 rounded-lg hover:bg-yellow-300 disabled:opacity-50 transition-colors text-sm"},n?"...":""))}function Bv(){const[e,t]=A.useState({email:"",role:"player",expires_hours:72}),[n,r]=A.useState(!1),[s,i]=A.useState(null);async function a(o){var c;o.preventDefault(),r(!0),i(null);const{data:l,error:u}=await bh(e);r(!1),u?i({type:"error",msg:u}):(i({type:"success",msg:`${e.email} `,url:(c=l==null?void 0:l.invitation)==null?void 0:c.invite_url}),t(g=>({...g,email:""})))}return d.createElement("form",{onSubmit:a,className:"max-w-md space-y-5"},d.createElement(Gt,{label:""},d.createElement("input",{required:!0,type:"email",placeholder:"member@company.co.jp",value:e.email,onChange:o=>t(l=>({...l,email:o.target.value})),className:"w-full bg-zinc-900 border border-zinc-800 rounded-lg px-3 py-2.5 text-sm text-zinc-200 focus:border-yellow-400/50 outline-none placeholder:text-zinc-600 transition-colors"})),d.createElement(Gt,{label:""},d.createElement("div",{className:"flex gap-3"},["admin","player"].map(o=>d.createElement("label",{key:o,className:`flex items-center gap-2 px-4 py-2.5 rounded-lg border cursor-pointer transition-colors ${e.role===o?"border-yellow-400/40 bg-yellow-400/5 text-yellow-300":"border-zinc-800 text-zinc-500 hover:border-zinc-600"}`},d.createElement("input",{type:"radio",name:"inv-role",value:o,checked:e.role===o,onChange:()=>t(l=>({...l,role:o})),className:"hidden"}),d.createElement("span",{className:"text-sm font-mono"},o.toUpperCase()))))),d.createElement(Gt,{label:""},d.createElement("select",{value:e.expires_hours,onChange:o=>t(l=>({...l,expires_hours:Number(o.target.value)})),className:"w-full bg-zinc-900 border border-zinc-800 rounded-lg px-3 py-2.5 text-sm text-zinc-200 focus:border-yellow-400/50 outline-none appearance-none cursor-pointer"},d.createElement("option",{value:24},"24"),d.createElement("option",{value:48},"48"),d.createElement("option",{value:72},"72"),d.createElement("option",{value:168},"7"))),s&&d.createElement("div",{className:`rounded-lg px-4 py-3 text-sm space-y-2 ${s.type==="success"?"bg-emerald-500/10 border border-emerald-500/20 text-emerald-400":"bg-red-500/10 border border-red-500/20 text-red-400"}`},d.createElement("p",null,s.msg),s.url&&d.createElement("p",{className:"text-xs font-mono text-emerald-300/60 break-all"},s.url)),d.createElement("button",{type:"submit",disabled:n,className:"w-full bg-yellow-400 text-zinc-900 font-semibold py-2.5 rounded-lg hover:bg-yellow-300 disabled:opacity-50 transition-colors text-sm"},n?"...":""))}function Gt({label:e,children:t}){return d.createElement("div",null,d.createElement("label",{className:"text-xs text-zinc-500 tracking-widest uppercase block mb-2"},e),t)}const Mv={pending:"",accepted:"",expired:"",revoked:""},Fv={pending:"text-amber-400 bg-amber-400/10 border-amber-400/20",accepted:"text-emerald-400 bg-emerald-400/10 border-emerald-400/20",expired:"text-zinc-500 bg-zinc-800 border-zinc-700",revoked:"text-red-400 bg-red-400/10 border-red-400/20"};function Wv(e){const t=new Date(e).getTime()-Date.now();if(t<=0)return"";const n=Math.floor(t/36e5),r=Math.floor(n/24);return r>0?`${r}`:`${n}`}function Vv(){const{user:e}=Yr(),[t,n]=A.useState([]),[r,s]=A.useState(!0),[i,a]=A.useState(!1),[o,l]=A.useState({email:"",role:"player",expires_hours:72}),[u,c]=A.useState(!1),[g,m]=A.useState(null),[v,y]=A.useState(null),w=["creator","admin"].includes((e==null?void 0:e.profile.role)??"");A.useEffect(()=>{E()},[]);async function E(){const{data:p,error:_}=await fe.from("invitations").select("*").eq("organization_id",e==null?void 0:e.profile.organization_id).order("created_at",{ascending:!1}).limit(50);!_&&p&&n(p),s(!1)}async function h(p){p.preventDefault(),c(!0),m(null);const{error:_}=await bh(o);c(!1),_?m({type:"error",text:_}):(m({type:"success",text:`${o.email} `}),l(S=>({...S,email:""})),await E(),setTimeout(()=>a(!1),2e3))}async function f(p){confirm("")&&(y(p),await fe.from("invitations").update({status:"revoked"}).eq("id",p).eq("organization_id",e==null?void 0:e.profile.organization_id),await E(),y(null))}return r?d.createElement("div",{className:"flex items-center justify-center h-64 text-zinc-500 text-sm"},"..."):d.createElement("div",{className:"p-8 max-w-5xl mx-auto"},d.createElement("div",{className:"mb-6 flex items-center justify-between"},d.createElement("div",null,d.createElement("h1",{className:"text-2xl tracking-widest text-zinc-100",style:{fontFamily:"'Bebas Neue', sans-serif"}},"INVITATIONS"),d.createElement("p",{className:"text-xs text-zinc-500 mt-1 tracking-wider"},"")),w&&d.createElement("button",{onClick:()=>a(p=>!p),className:"flex items-center gap-2 px-4 py-2 bg-yellow-400 text-zinc-900 font-semibold text-sm rounded-lg hover:bg-yellow-300 transition-colors"},d.createElement("span",null,"+")," ")),i&&d.createElement("div",{className:"mb-6 bg-zinc-900 border border-zinc-800 rounded-xl p-6"},d.createElement("h3",{className:"text-xs text-zinc-500 tracking-widest uppercase mb-4 font-mono"},""),d.createElement("form",{onSubmit:h,className:"flex flex-wrap gap-4 items-end"},d.createElement("div",{className:"flex-1 min-w-48"},d.createElement("label",{className:"text-[10px] text-zinc-600 tracking-widest uppercase block mb-1.5"},""),d.createElement("input",{required:!0,type:"email",placeholder:"member@company.co.jp",value:o.email,onChange:p=>l(_=>({..._,email:p.target.value})),className:"w-full bg-zinc-800 border border-zinc-700 rounded-lg px-3 py-2 text-sm text-zinc-200 focus:border-yellow-400/50 outline-none placeholder:text-zinc-600 transition-colors"})),d.createElement("div",null,d.createElement("label",{className:"text-[10px] text-zinc-600 tracking-widest uppercase block mb-1.5"},""),d.createElement("select",{value:o.role,onChange:p=>l(_=>({..._,role:p.target.value})),className:"bg-zinc-800 border border-zinc-700 rounded-lg px-3 py-2 text-sm text-zinc-200 focus:border-yellow-400/50 outline-none appearance-none cursor-pointer"},(e==null?void 0:e.profile.role)==="creator"&&d.createElement("option",{value:"admin"},"Admin"),d.createElement("option",{value:"player"},"Player"))),d.createElement("div",null,d.createElement("label",{className:"text-[10px] text-zinc-600 tracking-widest uppercase block mb-1.5"},""),d.createElement("select",{value:o.expires_hours,onChange:p=>l(_=>({..._,expires_hours:Number(p.target.value)})),className:"bg-zinc-800 border border-zinc-700 rounded-lg px-3 py-2 text-sm text-zinc-200 focus:border-yellow-400/50 outline-none appearance-none cursor-pointer"},d.createElement("option",{value:24},"24"),d.createElement("option",{value:48},"48"),d.createElement("option",{value:72},"72"),d.createElement("option",{value:168},"7"))),d.createElement("button",{type:"submit",disabled:u,className:"px-4 py-2 bg-yellow-400 text-zinc-900 font-semibold text-sm rounded-lg hover:bg-yellow-300 disabled:opacity-50 transition-colors"},u?"...":"")),g&&d.createElement("p",{className:`mt-3 text-sm font-mono ${g.type==="success"?"text-emerald-400":"text-red-400"}`},g.text)),d.createElement("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl overflow-hidden"},d.createElement("table",{className:"w-full"},d.createElement("thead",null,d.createElement("tr",{className:"border-b border-zinc-800"},d.createElement("th",{className:"text-left px-6 py-3 text-[10px] text-zinc-600 tracking-widest uppercase font-normal"},""),d.createElement("th",{className:"text-left px-4 py-3 text-[10px] text-zinc-600 tracking-widest uppercase font-normal"},""),d.createElement("th",{className:"text-left px-4 py-3 text-[10px] text-zinc-600 tracking-widest uppercase font-normal"},""),d.createElement("th",{className:"text-left px-4 py-3 text-[10px] text-zinc-600 tracking-widest uppercase font-normal"},""),d.createElement("th",{className:"text-left px-4 py-3 text-[10px] text-zinc-600 tracking-widest uppercase font-normal"},""),d.createElement("th",{className:"px-4 py-3"}))),d.createElement("tbody",null,t.length===0?d.createElement("tr",null,d.createElement("td",{colSpan:6,className:"text-center py-12 text-zinc-600 text-sm"},"")):t.map(p=>d.createElement("tr",{key:p.id,className:"border-b border-zinc-800/50 hover:bg-zinc-800/20 transition-colors"},d.createElement("td",{className:"px-6 py-4 text-sm font-mono text-zinc-300"},p.email),d.createElement("td",{className:"px-4 py-4"},d.createElement("span",{className:"text-[10px] font-mono tracking-widest px-2 py-0.5 rounded bg-zinc-800 text-zinc-400 border border-zinc-700"},Xr[p.role])),d.createElement("td",{className:"px-4 py-4"},d.createElement("span",{className:`text-[10px] font-mono tracking-wider px-2 py-0.5 rounded border ${Fv[p.status]}`},Mv[p.status])),d.createElement("td",{className:"px-4 py-4 text-xs text-zinc-500 font-mono"},p.status==="pending"?Wv(p.expires_at):""),d.createElement("td",{className:"px-4 py-4 text-xs text-zinc-600 font-mono"},new Date(p.created_at).toLocaleDateString("ja-JP")),d.createElement("td",{className:"px-4 py-4"},p.status==="pending"&&w&&d.createElement("button",{onClick:()=>f(p.id),disabled:v===p.id,className:"text-xs text-zinc-600 hover:text-red-400 transition-colors font-mono disabled:opacity-40"},v===p.id?"...":""))))))),d.createElement("p",{className:"mt-3 text-[11px] text-zinc-700 font-mono"},(e==null?void 0:e.profile.role)==="admin"&&" Admin: Player Admin  Creator ",(e==null?void 0:e.profile.role)==="creator"&&" Creator: Admin / Player "))}function qv(){const[e,t]=A.useState(null),[n,r]=A.useState("week"),[s,i]=A.useState(!0),[a,o]=A.useState("");A.useEffect(()=>{l()},[]),A.useEffect(()=>{a&&["creator","admin"].includes(a)&&u()},[n,a]);async function l(){const{data:{user:c}}=await fe.auth.getUser();if(!c)return;const{data:g}=await fe.from("profiles").select("role").eq("id",c.id).single();o((g==null?void 0:g.role)||"")}async function u(){i(!0);try{const{data:{session:c}}=await fe.auth.getSession();if(!c)return;const m=await(await fetch(`undefined/functions/v1/get-sales-analytics?period=${n}`,{headers:{Authorization:`Bearer ${c.access_token}`}})).json();m.success&&t(m.aggregated)}catch(c){console.error("Failed to fetch analytics:",c)}finally{i(!1)}}return["creator","admin"].includes(a)?s?React.createElement("div",{className:"flex items-center justify-center min-h-screen"},"..."):e?React.createElement("div",{className:"p-6 max-w-7xl mx-auto"},React.createElement("div",{className:"mb-6 flex items-center justify-between"},React.createElement("h1",{className:"text-2xl font-bold"},""),React.createElement("select",{value:n,onChange:c=>r(c.target.value),className:"px-4 py-2 border rounded-lg"},React.createElement("option",{value:"week"},"7"),React.createElement("option",{value:"month"},"30"),React.createElement("option",{value:"year"},"1"))),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8"},React.createElement(Ts,{title:"",value:`${e.total.working_hours.toFixed(1)}h`,icon:""}),React.createElement(Ts,{title:"",value:e.total.visits,icon:""}),React.createElement(Ts,{title:"",value:e.total.meetings,icon:""}),React.createElement(Ts,{title:"",value:e.total.contracts,icon:"",color:"green"})),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8"},React.createElement(Qu,{title:"",data:[{label:"",value:e.total.primary_face_to_face},{label:"",value:e.total.face_to_face}]}),React.createElement(Qu,{title:"",data:[{label:"",value:e.total.appointments},{label:"",value:e.total.acquired_projects}]})),React.createElement("div",{className:"mb-8"},React.createElement("h2",{className:"text-xl font-bold mb-4"},""),React.createElement("div",{className:"bg-white rounded-lg shadow overflow-hidden"},React.createElement("table",{className:"min-w-full"},React.createElement("thead",{className:"bg-gray-50"},React.createElement("tr",null,React.createElement("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},""),React.createElement("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},""),React.createElement("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},""),React.createElement("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},""),React.createElement("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},""))),React.createElement("tbody",{className:"bg-white divide-y divide-gray-200"},Object.entries(e.by_user).map(([c,g])=>React.createElement("tr",{key:c},React.createElement("td",{className:"px-6 py-4 whitespace-nowrap font-medium"},c),React.createElement("td",{className:"px-6 py-4 whitespace-nowrap"},g.visits),React.createElement("td",{className:"px-6 py-4 whitespace-nowrap"},g.meetings),React.createElement("td",{className:"px-6 py-4 whitespace-nowrap text-green-600 font-bold"},g.contracts),React.createElement("td",{className:"px-6 py-4 whitespace-nowrap"},g.working_hours.toFixed(1),"h"))))))),Object.keys(e.by_area).length>0&&React.createElement("div",null,React.createElement("h2",{className:"text-xl font-bold mb-4"},""),React.createElement("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4"},Object.entries(e.by_area).map(([c,g])=>React.createElement("div",{key:c,className:"bg-white p-4 rounded-lg shadow"},React.createElement("div",{className:"text-sm text-gray-500"},c),React.createElement("div",{className:"text-2xl font-bold text-blue-600"},g)))))):null:React.createElement("div",{className:"flex items-center justify-center min-h-screen"},React.createElement("div",{className:"text-center"},React.createElement("div",{className:"text-6xl mb-4"},""),React.createElement("h2",{className:"text-xl font-bold text-gray-300 mb-2"},""),React.createElement("p",{className:"text-gray-500"},"Admin")))}function Ts({title:e,value:t,icon:n,color:r="blue"}){const s={blue:"bg-blue-50 text-blue-600",green:"bg-green-50 text-green-600"};return React.createElement("div",{className:"bg-white p-6 rounded-lg shadow"},React.createElement("div",{className:"flex items-center justify-between"},React.createElement("div",null,React.createElement("p",{className:"text-sm text-gray-500 mb-1"},e),React.createElement("p",{className:`text-3xl font-bold ${s[r]}`},t)),React.createElement("div",{className:"text-4xl"},n)))}function Qu({title:e,data:t}){return React.createElement("div",{className:"bg-white p-6 rounded-lg shadow"},React.createElement("h3",{className:"font-bold mb-4"},e),React.createElement("div",{className:"space-y-3"},t.map(n=>React.createElement("div",{key:n.label,className:"flex items-center justify-between"},React.createElement("span",{className:"text-gray-600"},n.label),React.createElement("span",{className:"text-xl font-bold"},n.value)))))}function Hv(){const[e,t]=d.useState(window.location.pathname+window.location.search);return d.useEffect(()=>{const n=()=>t(window.location.pathname+window.location.search);return window.addEventListener("popstate",n),()=>window.removeEventListener("popstate",n)},[]),{path:e,navigate:n=>{window.history.pushState({},"",n),t(n)}}}function Kv({children:e,currentPath:t,navigate:n}){const{user:r,signOut:s}=d.useContext(Fn),i=r==null?void 0:r.profile.role,o=[{path:"/dashboard",label:"",icon:"",roles:["creator","admin","player"]},{path:"/analytics",label:"",icon:"",roles:["creator","admin"]},{path:"/members",label:"",icon:"",roles:["creator","admin"]},{path:"/invites",label:"",icon:"",roles:["creator","admin"]},{path:"/org",label:"",icon:"",roles:["creator"]}].filter(l=>i&&l.roles.includes(i));return d.createElement("div",{className:"flex min-h-screen bg-zinc-950 text-zinc-200"},d.createElement("aside",{className:"w-56 min-h-screen bg-zinc-900 border-r border-zinc-800 flex flex-col fixed top-0 left-0 bottom-0 z-50"},d.createElement("div",{className:"px-6 py-7 border-b border-zinc-800"},d.createElement("div",{className:"text-3xl tracking-[0.15em] text-yellow-400 leading-none",style:{fontFamily:"'Bebas Neue', sans-serif"}},"ORIGIN"),d.createElement("div",{className:"text-[9px] tracking-[0.3em] text-zinc-600 mt-1"},"ADMIN PORTAL")),d.createElement("div",{className:"mx-4 my-4 bg-zinc-800 border border-zinc-700 rounded-lg px-3 py-3"},d.createElement("div",{className:"text-xs font-medium text-zinc-200 truncate"},r==null?void 0:r.organization.name),d.createElement("div",{className:"text-[10px] font-mono text-zinc-600 mt-0.5 truncate"},r==null?void 0:r.organization.id.slice(0,16),"...")),d.createElement("nav",{className:"flex-1 px-3 py-2"},o.map(l=>{const u=t.startsWith(l.path);return d.createElement("button",{key:l.path,onClick:()=>n(l.path),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm text-left mb-1 transition-colors relative ${u?"bg-yellow-400/8 text-yellow-300":"text-zinc-500 hover:text-zinc-300 hover:bg-zinc-800"}`},u&&d.createElement("span",{className:"absolute left-0 top-1/4 bottom-1/4 w-0.5 bg-yellow-400 rounded-r"}),d.createElement("span",{className:"text-[13px]"},l.icon),d.createElement("span",{className:"tracking-wide"},l.label),l.path==="/org"&&d.createElement("span",{className:"ml-auto text-[8px] font-mono text-yellow-500/50 tracking-widest"},"CR"))})),d.createElement("div",{className:"px-4 py-4 border-t border-zinc-800"},d.createElement("div",{className:"flex items-center gap-3 mb-3"},d.createElement("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold border",style:{background:`${ur[i]}15`,borderColor:`${ur[i]}30`,color:ur[i]}},((r==null?void 0:r.profile.full_name)??(r==null?void 0:r.email)??"?").slice(0,2).toUpperCase()),d.createElement("div",{className:"flex-1 min-w-0"},d.createElement("div",{className:"text-xs font-medium text-zinc-300 truncate"},r==null?void 0:r.profile.full_name),d.createElement("div",{className:"text-[10px] font-mono",style:{color:ur[i]}},Xr[i]))),d.createElement("button",{onClick:s,className:"w-full text-[11px] text-zinc-600 hover:text-zinc-400 font-mono tracking-widest text-left transition-colors"}," "))),d.createElement("main",{className:"ml-56 flex-1 min-h-screen"},e))}function Gv(){const{user:e}=d.useContext(Fn),t=e==null?void 0:e.profile.role;return d.createElement("div",{className:"p-8 max-w-4xl mx-auto"},d.createElement("h1",{className:"text-2xl tracking-widest text-zinc-100 mb-1",style:{fontFamily:"'Bebas Neue', sans-serif"}},"DASHBOARD"),d.createElement("p",{className:"text-xs text-zinc-500 mb-8"},"",e==null?void 0:e.profile.full_name," "),d.createElement("div",{className:"grid grid-cols-3 gap-4 mb-8"},[{label:"",value:Xr[t],color:ur[t]},{label:"",value:(e==null?void 0:e.organization.name)??"",color:"#8891a4"},{label:" ID",value:(e==null?void 0:e.organization.id.slice(0,8))+"...",color:"#3d4455",mono:!0}].map(n=>d.createElement("div",{key:n.label,className:"bg-zinc-900 border border-zinc-800 rounded-xl p-5"},d.createElement("p",{className:"text-[10px] text-zinc-600 tracking-widest uppercase mb-2"},n.label),d.createElement("p",{className:`text-lg font-semibold ${n.mono?"font-mono text-sm":""}`,style:{color:n.color}},n.value)))),d.createElement("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-6"},d.createElement("h2",{className:"text-xs text-zinc-500 tracking-widest uppercase mb-4"},""),d.createElement("ul",{className:"space-y-2 text-sm text-zinc-400"},t==="creator"&&d.createElement(d.Fragment,null,d.createElement("li",{className:"flex items-center gap-2"},d.createElement("span",{className:"text-yellow-400"},"")," "),d.createElement("li",{className:"flex items-center gap-2"},d.createElement("span",{className:"text-yellow-400"},"")," Admin / Player "),d.createElement("li",{className:"flex items-center gap-2"},d.createElement("span",{className:"text-yellow-400"},"")," Admin / Player "),d.createElement("li",{className:"flex items-center gap-2"},d.createElement("span",{className:"text-yellow-400"},"")," ")),t==="admin"&&d.createElement(d.Fragment,null,d.createElement("li",{className:"flex items-center gap-2"},d.createElement("span",{className:"text-sky-400"},"")," Player / Admin "),d.createElement("li",{className:"flex items-center gap-2"},d.createElement("span",{className:"text-sky-400"},"")," "),d.createElement("li",{className:"flex items-center gap-2"},d.createElement("span",{className:"text-sky-400"},"")," Player "),d.createElement("li",{className:"flex items-center gap-2"},d.createElement("span",{className:"text-zinc-600"},"")," Creator ")),t==="player"&&d.createElement(d.Fragment,null,d.createElement("li",{className:"flex items-center gap-2"},d.createElement("span",{className:"text-violet-400"},"")," "),d.createElement("li",{className:"flex items-center gap-2"},d.createElement("span",{className:"text-zinc-600"},"")," Admin "),d.createElement("li",{className:"flex items-center gap-2"},d.createElement("span",{className:"text-zinc-600"},"")," Admin ")))))}function Jv({children:e}){const{user:t,loading:n}=d.useContext(Fn);return n?d.createElement("div",{className:"min-h-screen bg-zinc-950 flex items-center justify-center"},d.createElement("div",{className:"text-zinc-600 font-mono text-sm tracking-widest"},"LOADING...")):t?d.createElement(d.Fragment,null,e):d.createElement(Nv,null)}function Qv(){const e=Tv(),{path:t,navigate:n}=Hv();return t.startsWith("/invite/accept")?d.createElement(Fn.Provider,{value:e},d.createElement(Ov,null)):d.createElement(Fn.Provider,{value:e},d.createElement(Jv,null,d.createElement(Kv,{currentPath:t,navigate:n},t.startsWith("/analytics")&&d.createElement(qv,null),t.startsWith("/members")&&d.createElement(zv,null),t.startsWith("/invites")&&d.createElement(Vv,null),t.startsWith("/org")&&d.createElement($v,null),(t==="/"||t.startsWith("/dashboard"))&&d.createElement(Gv,null))))}pa.createRoot(document.getElementById("root")).render(d.createElement(d.StrictMode,null,d.createElement(Qv,null)));
